{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///external \"react\"","webpack:///external \"react-bootstrap\"","webpack:///external \"react-router-dom\"","webpack:///external \"react-router-bootstrap\"","webpack:///external \"url-search-params\"","webpack:///external \"express\"","webpack:///external \"http-proxy-middleware\"","webpack:///external \"serialize-javascript\"","webpack:///external \"webpack\"","webpack:///external \"dotenv\"","webpack:///external \"source-map-support\"","webpack:///external \"react-dom/server\"","webpack:///external \"isomorphic-fetch\"","webpack:///external \"react-select/lib/Async\"","webpack:///external \"webpack-dev-middleware\"","webpack:///external \"webpack-hot-middleware\"","webpack:///./webpack.config.js","webpack:///external \"path\"","webpack:///external \"webpack-node-externals\"","webpack:///./server/template.js","webpack:///./src/IssueDetail.jsx","webpack:///./src/UserContext.js","webpack:///./src/IssueTable.jsx","webpack:///./src/IssueFilter.jsx","webpack:///./src/graphQLFetch.js","webpack:///./src/Toast.jsx","webpack:///./src/withToast.jsx","webpack:///./src/store.js","webpack:///./src/IssueList.jsx","webpack:///./src/IssueReport.jsx","webpack:///./src/DateInput.jsx","webpack:///./src/NumInput.jsx","webpack:///./src/TextInput.jsx","webpack:///./src/IssueEdit.jsx","webpack:///./src/About.jsx","webpack:///./src/routes.js","webpack:///./src/NotFound.jsx","webpack:///./src/Contents.jsx","webpack:///./src/IssueAddNavItem.jsx","webpack:///./src/Search.jsx","webpack:///./src/SignInNavItem.jsx","webpack:///./src/Page.jsx","webpack:///./server/render.jsx","webpack:///./server/uiserver.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","require","path","webpack","nodeExternals","browserConfig","entry","app","output","filename","resolve","__dirname","publicPath","rules","test","exclude","use","loader","options","presets","targets","ie","edge","safari","firefox","chrome","optimization","splitChunks","chunks","plugins","DefinePlugin","__isBrowser__","devtool","serverConfig","server","target","externals","node","template","body","initialData","userData","serialize","IssueDetail","issue","description","UserContext","React","createContext","signedIn","IssueRowPlain","Component","render","location","search","closeIssue","deleteIssue","index","this","props","disabled","context","selectLocation","pathname","id","closeTooltip","placement","deleteTooltip","editTooltip","tableRow","status","owner","created","toDateString","effort","due","title","to","delayShow","overlay","bsSize","glyph","onClick","e","preventDefault","contextType","IssueRow","withRouter","IssueTable","issues","issueRows","map","bordered","condensed","hover","responsive","IssueFilter","constructor","super","params","URLSearchParams","state","effortMin","effortMax","changed","applyFilter","showOriginalFilter","onChangeStatus","onChangeEffortMin","onChangeEffortMax","componentDidUpdate","prevProps","prevSearch","setState","match","history","urlBase","set","toString","push","xs","sm","md","lg","componentClass","onChange","Addon","bsStyle","type","dateRegex","RegExp","jsonDateReviver","Date","async","graphQLFetch","query","variables","showError","cookie","apiEndpoint","process","env","UI_SERVER_API_ENDPOINT","headers","Cookie","response","fetch","method","credentials","JSON","stringify","text","result","parse","errors","error","extensions","code","details","exception","join","message","data","Toast","showing","onDismiss","clearTimeout","dismissTimer","setTimeout","componentWillUnmount","children","in","style","position","bottom","left","zIndex","withToast","OriginalComponent","toastVisible","toastMessage","toastType","showSuccess","dismissToast","Fragment","store","PageLink","page","activePage","cloneElement","isActive","IssueList","vars","hasSelection","selectedId","parseInt","Number","isNaN","idInt","issueList","pages","selectedIssue","componentDidMount","loadData","prevId","fetchData","prevState","newList","issueUpdate","issueDelete","undoMessage","restoreIssue","splice","startPage","Math","floor","endPage","prevSection","nextSection","items","min","Item","Heading","Title","toggle","Body","collapsible","IssueListWithToast","statuses","IssueReport","stats","issueCounts","headerColumns","statRows","counts","IssueReportWithToast","DateInput","date","toISOString","substr","focused","valid","onFocus","onBlur","oldValid","onValidityChange","dateValue","str","origValue","displayValue","placeholder","NumInput","num","val","unformat","TextInput","trim","length","tag","createElement","IssueEdit","invalidFields","showingValidation","handleSubmit","event","naturalValue","textValue","undefined","keys","changes","showValidation","dismissValidation","user","propsId","validationMessage","horizontal","onSubmit","ControlLabel","Static","validationState","Feedback","size","rows","cols","smOffset","Footer","IssueEditWithToast","About","apiAbout","about","className","routes","component","Contents","exact","from","attrs","IssueAddNavItem","showModal","hideModal","form","document","forms","issueAdd","getTime","keyboard","show","onHide","Header","closeButton","autoFocus","Search","onChangeSelection","loadOptions","term","label","instanceId","filterOption","components","DropdownIndicator","SigninNavItem","signOut","signIn","clientId","window","ENV","GOOGLE_CLIENT_ID","gapi","load","auth2","getAuthInstance","init","client_id","then","googleToken","getAuthResponse","id_token","UI_AUTH_ENDPOINT","google_token","givenName","onUserChange","block","src","alt","NavBar","Brand","Form","pullRight","SignInNavItem","noCaret","href","Page","fluid","Provider","req","res","activeRoute","find","route","matchPath","url","indexOf","element","ReactDOMServer","renderToString","redirect","send","express","SourceMapSupport","install","dotenv","config","port","UI_SERVER_PORT","apiProxyTarget","API_PROXY_TARGET","UI_API_ENDPOINT","proxy","changeOrigin","ENABLE_HMR","static","next","listen","console","log"],"mappings":"aACE,IAAIA,EAAmB,GAGvB,SAASC,EAAoBC,GAG5B,GAAGF,EAAiBE,GACnB,OAAOF,EAAiBE,GAAUC,QAGnC,IAAIC,EAASJ,EAAiBE,GAAY,CACzCG,EAAGH,EACHI,GAAG,EACHH,QAAS,IAUV,OANAI,EAAQL,GAAUM,KAAKJ,EAAOD,QAASC,EAAQA,EAAOD,QAASF,GAG/DG,EAAOE,GAAI,EAGJF,EAAOD,QAKfF,EAAoBQ,EAAIF,EAGxBN,EAAoBS,EAAIV,EAGxBC,EAAoBU,EAAI,SAASR,EAASS,EAAMC,GAC3CZ,EAAoBa,EAAEX,EAASS,IAClCG,OAAOC,eAAeb,EAASS,EAAM,CAAEK,YAAY,EAAMC,IAAKL,KAKhEZ,EAAoBkB,EAAI,SAAShB,GACX,oBAAXiB,QAA0BA,OAAOC,aAC1CN,OAAOC,eAAeb,EAASiB,OAAOC,YAAa,CAAEC,MAAO,WAE7DP,OAAOC,eAAeb,EAAS,aAAc,CAAEmB,OAAO,KAQvDrB,EAAoBsB,EAAI,SAASD,EAAOE,GAEvC,GADU,EAAPA,IAAUF,EAAQrB,EAAoBqB,IAC/B,EAAPE,EAAU,OAAOF,EACpB,GAAW,EAAPE,GAA8B,iBAAVF,GAAsBA,GAASA,EAAMG,WAAY,OAAOH,EAChF,IAAII,EAAKX,OAAOY,OAAO,MAGvB,GAFA1B,EAAoBkB,EAAEO,GACtBX,OAAOC,eAAeU,EAAI,UAAW,CAAET,YAAY,EAAMK,MAAOA,IACtD,EAAPE,GAA4B,iBAATF,EAAmB,IAAI,IAAIM,KAAON,EAAOrB,EAAoBU,EAAEe,EAAIE,EAAK,SAASA,GAAO,OAAON,EAAMM,IAAQC,KAAK,KAAMD,IAC9I,OAAOF,GAIRzB,EAAoB6B,EAAI,SAAS1B,GAChC,IAAIS,EAAST,GAAUA,EAAOqB,WAC7B,WAAwB,OAAOrB,EAAgB,SAC/C,WAA8B,OAAOA,GAEtC,OADAH,EAAoBU,EAAEE,EAAQ,IAAKA,GAC5BA,GAIRZ,EAAoBa,EAAI,SAASiB,EAAQC,GAAY,OAAOjB,OAAOkB,UAAUC,eAAe1B,KAAKuB,EAAQC,IAGzG/B,EAAoBkC,EAAI,IAIjBlC,EAAoBA,EAAoBmC,EAAI,I,gBClFrDhC,EAAOD,QAAUkC,QAAQ,U,cCAzBjC,EAAOD,QAAUkC,QAAQ,oB,cCAzBjC,EAAOD,QAAUkC,QAAQ,qB,cCAzBjC,EAAOD,QAAUkC,QAAQ,2B,cCAzBjC,EAAOD,QAAUkC,QAAQ,sB,cCAzBjC,EAAOD,QAAUkC,QAAQ,Y,cCAzBjC,EAAOD,QAAUkC,QAAQ,0B,cCAzBjC,EAAOD,QAAUkC,QAAQ,yB,cCAzBjC,EAAOD,QAAUkC,QAAQ,Y,cCAzBjC,EAAOD,QAAUkC,QAAQ,W,cCAzBjC,EAAOD,QAAUkC,QAAQ,uB,cCAzBjC,EAAOD,QAAUkC,QAAQ,qB,cCAzBjC,EAAOD,QAAUkC,QAAQ,qB,cCAzBjC,EAAOD,QAAUkC,QAAQ,2B,+CCAzBjC,EAAOD,QAAUkC,QAAQ,2B,cCAzBjC,EAAOD,QAAUkC,QAAQ,2B,iBCAzB,kBAAMC,EAAOD,EAAQ,IACfE,EAAUF,EAAQ,GAClBG,EAAgBH,EAAQ,IAExBI,EAAgB,CACpBjB,KAAM,cACNkB,MAAO,CAAEC,IAAK,CAAC,sBACfC,OAAQ,CACNC,SAAU,mBACVP,KAAMA,EAAKQ,QAAQC,EAAW,UAC9BC,WAAY,KAEd5C,OAAQ,CACN6C,MAAO,CACL,CACEC,KAAM,UACNC,QAAS,eACTC,IAAK,CACHC,OAAQ,eACRC,QAAS,CACPC,QAAS,CACP,CAAC,oBAAqB,CACpBC,QAAS,CACPC,GAAI,KACJC,KAAM,KACNC,OAAQ,KACRC,QAAS,KACTC,OAAQ,QAGZ,4BAOZC,aAAc,CACZC,YAAa,CACXnD,KAAM,SACNoD,OAAQ,QAGZC,QAAS,CACP,IAAI1B,EAAQ2B,aAAa,CAAEC,cAAe,UAE5CC,QAAS,cAGLC,EAAe,CACnB7C,KAAM,cACNkB,MAAO,CAAE4B,OAAQ,CAAC,yBAClBC,OAAQ,OACRC,UAAW,CAAChC,KACZI,OAAQ,CACNC,SAAU,YACVP,KAAMA,EAAKQ,QAAQC,EAAW,QAC9BC,WAAY,KAEd5C,OAAQ,CACN6C,MAAO,CACL,CACEC,KAAM,UACNE,IAAK,CACHC,OAAQ,eACRC,QAAS,CACPC,QAAS,CACP,CAAC,oBAAqB,CACpBC,QAAS,CAAEiB,KAAM,QAEnB,4BAOZR,QAAS,CACP,IAAI1B,EAAQ2B,aAAa,CAAEC,cAAe,WAE5CC,QAAS,cAGXhE,EAAOD,QAAU,CAACsC,EAAe4B,K,8BCnFjCjE,EAAOD,QAAUkC,QAAQ,S,cCAzBjC,EAAOD,QAAUkC,QAAQ,2B,iKCEV,SAASqC,EAASC,EAAMC,EAAaC,GAClD,MAAQ,wgBAgBaF,sDAESG,IAAUF,kCACbE,IAAUD,oK,kCCpBxB,SAASE,GAAY,MAAEC,IACpC,OAAIA,EAEA,6BACE,2CACA,6BAAMA,EAAMC,cAKX,KCNMC,MAJKC,IAAMC,cAAc,CACtCC,UAAU,ICKZ,MAAMC,UAAsBH,IAAMI,UAChCC,SACE,MAAM,MACJR,EAAOS,UAAU,OAAEC,GADf,WACyBC,EADzB,YACqCC,EADrC,MACkDC,GACpDC,KAAKC,MAEHC,GADOF,KAAKG,QACKZ,SACjBa,EAAiB,CAAEC,SAAW,WAAUnB,EAAMoB,GAAMV,UACpDW,EACJ,kBAAC,UAAD,CAASD,GAAG,gBAAgBE,UAAU,OAAtC,eAEIC,EACJ,kBAAC,UAAD,CAASH,GAAG,iBAAiBE,UAAU,OAAvC,gBAEIE,EACJ,kBAAC,UAAD,CAASJ,GAAG,gBAAgBE,UAAU,OAAtC,cAYF,MAAMG,EACJ,4BACE,4BAAKzB,EAAMoB,IACX,4BAAKpB,EAAM0B,QACX,4BAAK1B,EAAM2B,OACX,4BAAK3B,EAAM4B,QAAQC,gBACnB,4BAAK7B,EAAM8B,QACX,4BAAK9B,EAAM+B,IAAM/B,EAAM+B,IAAIF,eAAiB,IAC5C,4BAAK7B,EAAMgC,OACX,4BACE,kBAAC,gBAAD,CAAeC,GAAK,SAAQjC,EAAMoB,IAChC,kBAAC,iBAAD,CAAgBc,UAAW,IAAMC,QAASX,GACxC,kBAAC,SAAD,CAAQY,OAAO,UACb,kBAAC,YAAD,CAAWC,MAAM,YAItB,IACD,kBAAC,iBAAD,CAAgBH,UAAW,IAAMC,QAASd,GACxC,kBAAC,SAAD,CAAQL,SAAUA,EAAUoB,OAAO,SAASE,QA7BpD,SAAiBC,GACfA,EAAEC,iBACF7B,EAAWE,KA4BH,kBAAC,YAAD,CAAWwB,MAAM,aAGpB,IACD,kBAAC,iBAAD,CAAgBH,UAAW,IAAMC,QAASZ,GACxC,kBAAC,SAAD,CAAQP,SAAUA,EAAUoB,OAAO,SAASE,QA9BpD,SAAkBC,GAChBA,EAAEC,iBACF5B,EAAYC,KA6BJ,kBAAC,YAAD,CAAWwB,MAAM,cAO3B,OACE,kBAAC,gBAAD,CAAeJ,GAAIf,GAChBO,IAMTnB,EAAcmC,YAAcvC,EAC5B,MAAMwC,EAAWC,qBAAWrC,GAGb,SAASsC,GAAW,OAAEC,EAAF,WAAUlC,EAAV,YAAsBC,IACvD,MAAMkC,EAAYD,EAAOE,IAAI,CAAC/C,EAAOa,IACnC,kBAAC6B,EAAD,CACE9F,IAAKoD,EAAMoB,GACXpB,MAAOA,EACPW,WAAYA,EACZE,MAAOA,EACPD,YAAaA,KAIjB,OACE,kBAAC,QAAD,CAAOoC,UAAQ,EAACC,WAAS,EAACC,OAAK,EAACC,YAAU,GACxC,+BACE,4BACE,kCACA,sCACA,qCACA,uCACA,sCACA,wCACA,qCACA,wCAGJ,+BACGL,WA5BFJ,EAASD,YCrEhB,MAAMW,UAAoBjD,IAAMI,UAC9B8C,aAAc5C,UAAU,OAAEC,KACxB4C,QACA,MAAMC,EAAS,IAAIC,IAAgB9C,GACnCI,KAAK2C,MAAQ,CACX/B,OAAQ6B,EAAOrH,IAAI,WAAa,GAChCwH,UAAWH,EAAOrH,IAAI,cAAgB,GACtCyH,UAAWJ,EAAOrH,IAAI,cAAgB,GACtC0H,SAAS,GAGX9C,KAAK+C,YAAc/C,KAAK+C,YAAYhH,KAAKiE,MACzCA,KAAKgD,mBAAqBhD,KAAKgD,mBAAmBjH,KAAKiE,MACvDA,KAAKiD,eAAiBjD,KAAKiD,eAAelH,KAAKiE,MAC/CA,KAAKkD,kBAAoBlD,KAAKkD,kBAAkBnH,KAAKiE,MACrDA,KAAKmD,kBAAoBnD,KAAKmD,kBAAkBpH,KAAKiE,MAGvDoD,mBAAmBC,GACjB,MAAQ1D,UAAYC,OAAQ0D,IAAiBD,GACrC1D,UAAU,OAAEC,IAAaI,KAAKC,MAClCqD,IAAe1D,GACjBI,KAAKgD,qBAITC,eAAexB,GACbzB,KAAKuD,SAAS,CAAE3C,OAAQa,EAAEhD,OAAOjD,MAAOsH,SAAS,IAGnDI,kBAAkBzB,GACKA,EAAEhD,OAAOjD,MACbgI,MAAM,UACrBxD,KAAKuD,SAAS,CAAEX,UAAWnB,EAAEhD,OAAOjD,MAAOsH,SAAS,IAIxDK,kBAAkB1B,GACKA,EAAEhD,OAAOjD,MACbgI,MAAM,UACrBxD,KAAKuD,SAAS,CAAEV,UAAWpB,EAAEhD,OAAOjD,MAAOsH,SAAS,IAIxDE,qBACE,MAAQrD,UAAU,OAAEC,IAAaI,KAAKC,MAChCwC,EAAS,IAAIC,IAAgB9C,GACnCI,KAAKuD,SAAS,CACZ3C,OAAQ6B,EAAOrH,IAAI,WAAa,GAChCwH,UAAWH,EAAOrH,IAAI,cAAgB,GACtCyH,UAAWJ,EAAOrH,IAAI,cAAgB,GACtC0H,SAAS,IAIbC,cACE,MAAM,OAAEnC,EAAF,UAAUgC,EAAV,UAAqBC,GAAc7C,KAAK2C,OACxC,QAAEc,EAAF,QAAWC,GAAY1D,KAAKC,MAC5BwC,EAAS,IAAIC,IACf9B,GAAQ6B,EAAOkB,IAAI,SAAU/C,GAC7BgC,GAAWH,EAAOkB,IAAI,YAAaf,GACnCC,GAAWJ,EAAOkB,IAAI,YAAad,GACvC,MAAMjD,EAAS6C,EAAOmB,WAAc,IAAGnB,EAAOmB,WAAe,GAC7DH,EAAQI,KAAK,CAAExD,SAAUqD,EAAS9D,WAGpCF,SACE,MAAM,OAAEkB,EAAF,QAAUkC,GAAY9C,KAAK2C,OAC3B,UAAEC,EAAF,UAAaC,GAAc7C,KAAK2C,MAEtC,OACE,kBAAC,MAAD,KACE,kBAAC,MAAD,CAAKmB,GAAI,EAAGC,GAAI,EAAGC,GAAI,EAAGC,GAAI,GAC5B,kBAAC,YAAD,KACE,kBAAC,eAAD,gBACA,kBAAC,cAAD,CACEC,eAAe,SACf1I,MAAOoF,EACPuD,SAAUnE,KAAKiD,gBAEf,4BAAQzH,MAAM,IAAd,SACA,4BAAQA,MAAM,OAAd,OACA,4BAAQA,MAAM,YAAd,YACA,4BAAQA,MAAM,SAAd,SACA,4BAAQA,MAAM,UAAd,aAIN,kBAAC,MAAD,CAAKsI,GAAI,EAAGC,GAAI,EAAGC,GAAI,EAAGC,GAAI,GAC5B,kBAAC,YAAD,KACE,kBAAC,eAAD,wBACA,kBAAC,aAAD,KACE,kBAAC,cAAD,CACEzI,MAAOoH,EACPuB,SAAUnE,KAAKkD,oBAEjB,kBAAC,aAAWkB,MAAZ,UACA,kBAAC,cAAD,CACE5I,MAAOqH,EACPsB,SAAUnE,KAAKmD,uBAKvB,kBAAC,MAAD,CAAKW,GAAI,EAAGC,GAAI,EAAGC,GAAI,EAAGC,GAAI,GAC5B,kBAAC,YAAD,KACE,kBAAC,eAAD,UACA,kBAAC,gBAAD,KACE,kBAAC,SAAD,CAAQI,QAAQ,UAAUC,KAAK,SAAS9C,QAASxB,KAAK+C,aAAtD,SAGA,kBAAC,SAAD,CACEuB,KAAK,SACL9C,QAASxB,KAAKgD,mBACd9C,UAAW4C,GAHb,cAeCjB,2BAAWS,G,iBCrI1B,MAAMiC,EAAY,IAAIC,OAAO,+BAC7B,SAASC,EAAgB3I,EAAKN,GAC5B,OAAI+I,EAAUnH,KAAK5B,GAAe,IAAIkJ,KAAKlJ,GACpCA,EAGMmJ,eAAeC,EAAaC,EAAOC,EAAY,GAAIC,EAAY,KAAMC,EAAS,MAC3F,MAAMC,EAEFC,QAAQC,IAAIC,uBAChB,IACE,MAAMC,EAAU,CAAE,eAAgB,oBAC9BL,IAAQK,EAAQC,OAASN,GAC7B,MAAMO,QAAiBC,IAAMP,EAAa,CACxCQ,OAAQ,OACRC,YAAa,UACbL,UACAxG,KAAM8G,KAAKC,UAAU,CAAEf,QAAOC,gBAE1BjG,QAAa0G,EAASM,OACtBC,EAASH,KAAKI,MAAMlH,EAAM4F,GAEhC,GAAIqB,EAAOE,OAAQ,CACjB,MAAMC,EAAQH,EAAOE,OAAO,GAC5B,GAA8B,mBAA1BC,EAAMC,WAAWC,KAA2B,CAC9C,MAAMC,EAAUH,EAAMC,WAAWG,UAAUL,OAAOM,KAAK,OACnDvB,GAAWA,EAAW,GAAEkB,EAAMM,cAAcH,UACvCrB,GACTA,EAAW,GAAEkB,EAAMC,WAAWC,SAASF,EAAMM,WAGjD,OAAOT,EAAOU,KACd,MAAO/E,GAEP,OADIsD,GAAWA,EAAW,oCAAmCtD,EAAE8E,SACxD,MCjCI,MAAME,UAAcpH,IAAMI,UACvC2D,qBACE,MAAM,QAAEsD,EAAF,UAAWC,GAAc3G,KAAKC,MAEhCyG,IACFE,aAAa5G,KAAK6G,cAClB7G,KAAK6G,aAAeC,WAAWH,EAAW,MAI9CI,uBACEH,aAAa5G,KAAK6G,cAGpBnH,SACE,MAAM,QACJgH,EADI,QACKrC,EADL,UACcsC,EADd,SACyBK,GAC3BhH,KAAKC,MAET,OACE,kBAAC,WAAD,CAAUgH,GAAIP,GACZ,yBAAKQ,MAAO,CACVC,SAAU,QAASC,OAAQ,GAAIC,KAAM,GAAIC,OAAQ,KAGjD,kBAAC,QAAD,CAAOjD,QAASA,EAASsC,UAAWA,GACjCK,M,+MC1BE,SAASO,EAAUC,GAChC,OAAO,cAA2BnI,IAAMI,UACtC8C,YAAYtC,GACVuC,MAAMvC,GACND,KAAK2C,MAAQ,CACX8E,cAAc,EAAOC,aAAc,GAAIC,UAAW,WAEpD3H,KAAK4H,YAAc5H,KAAK4H,YAAY7L,KAAKiE,MACzCA,KAAK+E,UAAY/E,KAAK+E,UAAUhJ,KAAKiE,MACrCA,KAAK6H,aAAe7H,KAAK6H,aAAa9L,KAAKiE,MAG7C4H,YAAYrB,GACVvG,KAAKuD,SAAS,CACZkE,cAAc,EACdC,aAAcnB,EACdoB,UAAW,YAIf5C,UAAUwB,GACRvG,KAAKuD,SAAS,CACZkE,cAAc,EACdC,aAAcnB,EACdoB,UAAW,WAIfE,eACE7H,KAAKuD,SAAS,CACZkE,cAAc,IAIlB/H,SACE,MAAM,UAAEiI,EAAF,aAAaF,EAAb,aAA2BC,GAAiB1H,KAAK2C,MAEvD,OACE,kBAAC,IAAMmF,SAAP,KACE,kBAACN,EAAD,GACEzC,UAAW/E,KAAK+E,UAChB6C,YAAa5H,KAAK4H,YAClBC,aAAc7H,KAAK6H,cACf7H,KAAKC,QAEX,kBAAC,EAAD,CACEoE,QAASsD,EACTjB,QAASe,EACTd,UAAW3G,KAAK6H,cAEfH,MCpDEK,MADD,GCad,SAASC,GAAS,OAChBvF,EADgB,KACRwF,EADQ,WACFC,EADE,SACUlB,IAI1B,OAFAvE,EAAOkB,IAAI,OAAQsE,GAEN,IAATA,EAAmB5I,IAAM8I,aAAanB,EAAU,CAAE9G,UAAU,IAG9D,kBAAC,gBAAD,CACEkI,SAAU,IAAMH,IAASC,EACzB/G,GAAI,CAAEvB,OAAS,IAAG6C,EAAOmB,aAExBoD,GAKP,MAAMqB,UAAkBhJ,IAAMI,UAC5B,uBAAuB+D,EAAO5D,EAAQmF,GACpC,MAAMtC,EAAS,IAAIC,IAAgB9C,GAC7B0I,EAAO,CAAEC,cAAc,EAAOC,WAAY,GAChD,IAAIP,EAAOQ,SAAShG,EAAOrH,IAAI,QAAS,IACpCsN,OAAOC,MAAMV,KAAOA,EAAO,GAC/BK,EAAKL,KAAOA,EAERxF,EAAOrH,IAAI,YAAWkN,EAAK1H,OAAS6B,EAAOrH,IAAI,WACnD,MAAMwH,EAAY6F,SAAShG,EAAOrH,IAAI,aAAc,IAE/CsN,OAAOC,MAAM/F,KAAY0F,EAAK1F,UAAYA,GAC/C,MAAMC,EAAY4F,SAAShG,EAAOrH,IAAI,aAAc,IAE/CsN,OAAOC,MAAM9F,KAAYyF,EAAKzF,UAAYA,GAC/C,MAAQJ,QAAQ,GAAEnC,IAASkD,EACrBoF,EAAQH,SAASnI,EAAI,IAEtBoI,OAAOC,MAAMC,KAChBN,EAAKC,cAAe,EACpBD,EAAKE,WAAaI,GA6BpB,aADmBhE,EAzBJ,4fAyBwB0D,EAAMvD,GAI/CxC,cACEC,QACA,MAAM1D,EAAciJ,EAAMjJ,aAAe,CAAE+J,UAAW,KAEpDA,WAAW,OAAE9G,EAAF,MAAU+G,GAAS5J,MAAO6J,GACnCjK,SAEGiJ,EAAMjJ,YAEbkB,KAAK2C,MAAQ,CACXZ,SACAgH,gBACAD,SAGF9I,KAAKH,WAAaG,KAAKH,WAAW9D,KAAKiE,MACvCA,KAAKF,YAAcE,KAAKF,YAAY/D,KAAKiE,MAG3CgJ,oBACE,MAAM,OAAEjH,GAAW/B,KAAK2C,MAAqB,MAAVZ,GAAgB/B,KAAKiJ,WAG1D7F,mBAAmBC,GACjB,MACE1D,UAAYC,OAAQ0D,GACpBE,OAASf,QAAUnC,GAAI4I,KACrB7F,GACI1D,UAAU,OAAEC,GAAU4D,OAASf,QAAQ,GAAEnC,KAAWN,KAAKC,MAC7DqD,IAAe1D,GAAUsJ,IAAW5I,GACtCN,KAAKiJ,WAIT,iBACE,MAAQtJ,UAAU,OAAEC,GAAd,MAAwB4D,EAAxB,UAA+BuB,GAAc/E,KAAKC,MAClDuG,QAAa6B,EAAUc,UAAU3F,EAAO5D,EAAQmF,GAElDyB,GACFxG,KAAKuD,SAAS,CACZxB,OAAQyE,EAAKqC,UAAU9G,OACvBgH,cAAevC,EAAKtH,MACpB4J,MAAOtC,EAAKqC,UAAUC,QAK5B,iBAAiB/I,GACf,MAOM,OAAEgC,GAAW/B,KAAK2C,OAClB,UAAEoC,GAAc/E,KAAKC,MACrBuG,QAAa5B,EATJ,qLASwB,CAAEtE,GAAIyB,EAAOhC,GAAOO,IAAMyE,GAC7DyB,EACFxG,KAAKuD,SAAU6F,IACb,MAAMC,EAAU,IAAID,EAAUrH,QAE9B,OADAsH,EAAQtJ,GAASyG,EAAK8C,YACf,CAAEvH,OAAQsH,KAGnBrJ,KAAKiJ,WAIT,kBAAkBlJ,GAChB,MAEM,OAAEgC,GAAW/B,KAAK2C,OAClB,YAAEiF,EAAF,UAAe7C,GAAc/E,KAAKC,OAChCN,UAAU,SAAEU,EAAF,OAAYT,GAAxB,QAAkC6D,GAAYzD,KAAKC,OACnD,GAAEK,GAAOyB,EAAOhC,GAChByG,QAAa5B,EANJ,kEAMwB,CAAEtE,MAAMyE,GAE3CyB,GAAQA,EAAK+C,YACfvJ,KAAKuD,SAAU6F,IACb,MAAMC,EAAU,IAAID,EAAUrH,QACxByH,EACJ,8BACI,iBAAgBlJ,kBAClB,kBAAC,SAAD,CAAQ+D,QAAQ,OAAO7C,QAAS,IAAMxB,KAAKyJ,aAAanJ,IAAxD,SAUJ,OALAsH,EAAY4B,GAERnJ,IAAc,WAAUC,GAC1BmD,EAAQI,KAAK,CAAExD,SAAU,UAAWT,WACpCyJ,EAAQK,OAAO3J,EAAO,GACjB,CAAEgC,OAAQsH,KAGnBrJ,KAAKiJ,WAIT,mBAAmB3I,GACjB,MAGM,YAAEsH,EAAF,UAAe7C,GAAc/E,KAAKC,YACrB2E,EAJJ,6EAIwB,CAAEtE,MAAMyE,KAG7C6C,EAAa,SAAQtH,4BACrBN,KAAKiJ,YAITvJ,SACE,MAAM,OAAEqC,GAAW/B,KAAK2C,MACxB,GAAc,MAAVZ,EAAgB,OAAO,KAC3B,MAAM,cAAEgH,EAAF,MAAiBD,GAAU9I,KAAK2C,OAC9BhD,UAAU,OAAEC,IAAaI,KAAKC,MAChCwC,EAAS,IAAIC,IAAgB9C,GACnC,IAAIqI,EAAOQ,SAAShG,EAAOrH,IAAI,QAAS,IAEpCsN,OAAOC,MAAMV,KAAOA,EAAO,GAC/B,MAAM0B,EAlMW,EAkMCC,KAAKC,OAAO5B,EAAO,GAlMpB,GAkMwD,EACnE6B,EAAUH,EAnMC,EAmM0B,EACrCI,EAA4B,IAAdJ,EAAkB,EAAIA,EApMzB,EAqMXK,EAAcF,GAAWhB,EAAQ,EAAIa,EArM1B,EAsMXM,EAAQ,GAEd,IAAK,IAAI1P,EAAIoP,EAAWpP,GAAKqP,KAAKM,IAAIJ,EAAShB,GAAQvO,GAAK,EAC1DkI,EAAOkB,IAAI,OAAQpJ,GACnB0P,EAAMpG,KACJ,kBAACmE,EAAD,CAAUlM,IAAKvB,EAAGkI,OAAQA,EAAQyF,WAAYD,EAAMA,KAAM1N,GACxD,kBAAC,aAAW4P,KAAZ,KAAkB5P,KAKxB,OACE,kBAAC,IAAMuN,SAAP,KACE,kBAAC,QAAD,KACE,kBAAC,QAAMsC,QAAP,KACE,kBAAC,QAAMC,MAAP,CAAaC,QAAM,GAAnB,WAEF,kBAAC,QAAMC,KAAP,CAAYC,aAAW,GACrB,kBAAC,EAAD,CAAa9G,QAAQ,cAGzB,kBAAC5B,EAAD,CACEC,OAAQA,EACRlC,WAAYG,KAAKH,WACjBC,YAAaE,KAAKF,cAEpB,kBAACb,EAAD,CAAaC,MAAO6J,IACpB,kBAAC,aAAD,KACE,kBAACf,EAAD,CAAUvF,OAAQA,EAAQwF,KAAM8B,GAC9B,kBAAC,aAAWI,KAAZ,KAAkB,MAEnBF,EACD,kBAACjC,EAAD,CAAUvF,OAAQA,EAAQwF,KAAM+B,GAC9B,kBAAC,aAAWG,KAAZ,KAAkB,SAO9B,MAAMM,EAAqBlD,EAAUc,GACrCoC,EAAmBtB,UAAYd,EAAUc,UAE1BsB,QCrPf,MAAMC,EAAW,CAAC,MAAO,WAAY,QAAS,UAE9C,MAAMC,UAAoBtL,IAAMI,UAC9B,uBAAuB+D,EAAO5D,EAAQmF,GACpC,MAAMtC,EAAS,IAAIC,gBAAgB9C,GAC7B0I,EAAO,GAET7F,EAAOrH,IAAI,YAAWkN,EAAK1H,OAAS6B,EAAOrH,IAAI,WACnD,MAAMwH,EAAY6F,SAAShG,EAAOrH,IAAI,aAAc,IAE/CsN,OAAOC,MAAM/F,KAAY0F,EAAK1F,UAAYA,GAC/C,MAAMC,EAAY4F,SAAShG,EAAOrH,IAAI,aAAc,IAE/CsN,OAAOC,MAAM9F,KAAYyF,EAAKzF,UAAYA,GAiB/C,aADmB+B,EAdJ,oRAcwB0D,EAAMvD,GAI/CxC,YAAYtC,GACVuC,MAAMvC,GACN,MAAM2K,EAAQ7C,EAAMjJ,YAAciJ,EAAMjJ,YAAY+L,YAAc,YAC3D9C,EAAMjJ,YACbkB,KAAK2C,MAAQ,CAAEiI,SAGjB5B,oBACE,MAAM,MAAE4B,GAAU5K,KAAK2C,MACV,MAATiI,GAAe5K,KAAKiJ,WAG1B7F,mBAAmBC,GACjB,MAAQ1D,UAAYC,OAAQ0D,IAAiBD,GACrC1D,UAAU,OAAEC,IAAaI,KAAKC,MAElCqD,IAAe1D,GACjBI,KAAKiJ,WAIT,iBACE,MAAQtJ,UAAU,OAAEC,GAAd,MAAwB4D,EAAxB,UAA+BuB,GAAc/E,KAAKC,MAClDuG,QAAamE,EAAYxB,UAAU3F,EAAO5D,EAAQmF,GAEpDyB,GACFxG,KAAKuD,SAAS,CAAEqH,MAAOpE,EAAKqE,cAIhCnL,SACE,MAAM,MAAEkL,GAAU5K,KAAK2C,MAEvB,GAAa,MAATiI,EAAe,OAAO,KAC1B,MAAME,EACJJ,EAASzI,IAAIrB,GACX,wBAAI9E,IAAK8E,GAASA,IAIhBmK,EAAWH,EAAM3I,IAAI+I,GACzB,wBAAIlP,IAAKkP,EAAOnK,OACd,4BAAKmK,EAAOnK,OACX6J,EAASzI,IAAIrB,GACZ,wBAAI9E,IAAK8E,GAASoK,EAAOpK,OAK/B,OACE,oCACE,kBAAC,QAAD,KACE,kBAAC,QAAMwJ,QAAP,KACE,kBAAC,QAAMC,MAAP,CAAaC,QAAM,GAAnB,WAEF,kBAAC,QAAMC,KAAP,CAAYC,aAAW,GACrB,kBAAC,EAAD,CAAa9G,QAAQ,cAGzB,kBAAC,QAAD,CAAOxB,UAAQ,EAACC,WAAS,EAACC,OAAK,EAACC,YAAU,GACxC,+BACE,4BACE,6BACCyI,IAGL,+BACGC,MAQb,MAAME,EAAuB1D,EAAUoD,GACvCM,EAAqB9B,UAAYwB,EAAYxB,UAC9B8B,Q,+MCtGA,MAAMC,UAAkB7L,IAAMI,UAC3C8C,YAAYtC,GAVd,IAAoBkL,EAWhB3I,MAAMvC,GACND,KAAK2C,MAAQ,CACXnH,OAbc2P,EAaIlL,EAAMzE,MAZZ,MAAR2P,EAAgBA,EAAKC,cAAcC,OAAO,EAAG,IAAM,IAavDC,SAAS,EACTC,OAAO,GAGTvL,KAAKwL,QAAUxL,KAAKwL,QAAQzP,KAAKiE,MACjCA,KAAKyL,OAASzL,KAAKyL,OAAO1P,KAAKiE,MAC/BA,KAAKmE,SAAWnE,KAAKmE,SAASpI,KAAKiE,MAGrCwL,UACExL,KAAKuD,SAAS,CAAE+H,SAAS,IAG3BG,OAAOhK,GACL,MAAM,MAAEjG,EAAO+P,MAAOG,GAAa1L,KAAK2C,OAClC,iBAAEgJ,EAAF,SAAoBxH,GAAanE,KAAKC,MACtC2L,GA1BQC,EA0BarQ,GAzBVgI,MAAM,oEACT,IAAIkB,KAAKmH,GAAO,KAFlC,IAAkBA,EA2Bd,MAAMN,EAAkB,KAAV/P,GAA6B,MAAboQ,EAE1BL,IAAUG,GAAYC,GACxBA,EAAiBlK,EAAG8J,GAGtBvL,KAAKuD,SAAS,CAAE+H,SAAS,EAAOC,UAC5BA,GAAOpH,EAAS1C,EAAGmK,GAGzBzH,SAAS1C,GACHA,EAAEhD,OAAOjD,MAAMgI,MAAM,aACvBxD,KAAKuD,SAAS,CAAE/H,MAAOiG,EAAEhD,OAAOjD,QAIpCkE,SACE,MAAM,MAAE6L,EAAF,QAASD,EAAT,MAAkB9P,GAAUwE,KAAK2C,OAC/BnH,MAAOsQ,EAAT,iBAAoBH,KAAqB1L,GAAUD,KAAKC,MACxD8L,EAAgBT,IAAYC,EAAS/P,EArD7B,OADK2P,EAuDDW,GAtDIX,EAAKpK,eAAiB,GADhD,IAAuBoK,EAwDnB,OACE,+BACMlL,EADN,CAEEzE,MAAOuQ,EACPC,YAAaV,EAAU,aAAe,KACtCE,QAASxL,KAAKwL,QACdC,OAAQzL,KAAKyL,OACbtH,SAAUnE,KAAKmE,a,+MCtDR,MAAM8H,UAAiB5M,IAAMI,UAC1C8C,YAAYtC,GAVd,IAAgBiM,EAWZ1J,MAAMvC,GACND,KAAK2C,MAAQ,CAAEnH,OAZH0Q,EAYiBjM,EAAMzE,MAXvB,MAAP0Q,EAAcA,EAAItI,WAAa,KAYpC5D,KAAKyL,OAASzL,KAAKyL,OAAO1P,KAAKiE,MAC/BA,KAAKmE,SAAWnE,KAAKmE,SAASpI,KAAKiE,MAGrCmE,SAAS1C,GACHA,EAAEhD,OAAOjD,MAAMgI,MAAM,UACvBxD,KAAKuD,SAAS,CAAE/H,MAAOiG,EAAEhD,OAAOjD,QAIpCiQ,OAAOhK,GACL,MAAM,SAAE0C,GAAanE,KAAKC,OACpB,MAAEzE,GAAUwE,KAAK2C,MACvBwB,EAAS1C,EAtBb,SAAkBoK,GAChB,MAAMM,EAAM1D,SAASoD,EAAK,IAC1B,OAAOnD,OAAOC,MAAMwD,GAAO,KAAOA,EAoBpBC,CAAS5Q,IAGvBkE,SACE,MAAM,MAAElE,GAAUwE,KAAK2C,MACvB,OACE,6BACE2B,KAAK,QACDtE,KAAKC,MAFX,CAGEzE,MAAOA,EACPiQ,OAAQzL,KAAKyL,OACbtH,SAAUnE,KAAKmE,aC7BR,MAAMkI,UAAkBhN,IAAMI,UAC3C8C,YAAYtC,GATd,IAAgB4F,EAUZrD,MAAMvC,GACND,KAAK2C,MAAQ,CAAEnH,OAXHqK,EAWiB5F,EAAMzE,MAVtB,MAARqK,EAAeA,EAAO,KAW3B7F,KAAKyL,OAASzL,KAAKyL,OAAO1P,KAAKiE,MAC/BA,KAAKmE,SAAWnE,KAAKmE,SAASpI,KAAKiE,MAGrCmE,SAAS1C,GACPzB,KAAKuD,SAAS,CAAE/H,MAAOiG,EAAEhD,OAAOjD,QAGlCiQ,OAAOhK,GACL,MAAM,SAAE0C,GAAanE,KAAKC,OACpB,MAAEzE,GAAUwE,KAAK2C,MAlB3B,IAAkBkD,EAmBd1B,EAAS1C,EAlBmB,KADdoE,EAmBOrK,GAlBX8Q,OAAOC,OAAe,KAAO1G,GAqBzCnG,SACE,MAAM,MAAElE,GAAUwE,KAAK2C,OACjB,IAAE6J,EAAM,WAAYvM,GAAUD,KAAKC,MACzC,OAAOZ,IAAMoN,cAAcD,EAAK,IAC3BvM,EACHzE,QACAiQ,OAAQzL,KAAKyL,OACbtH,SAAUnE,KAAKmE,YCpBrB,MAAMuI,UAAkBrN,IAAMI,UAC5B,uBAAuB+D,EAAO5D,EAAQmF,GACpC,MAOQtC,QAAQ,GAAEnC,IAASkD,EAE3B,aADqBoB,EARN,0IAQ0B,CAAEtE,GAAImI,SAASnI,EAAI,KAAOyE,GAIrExC,cACEC,QACA,MAAMtD,EAAQ6I,EAAMjJ,YAAciJ,EAAMjJ,YAAYI,MAAQ,YACrD6I,EAAMjJ,YACbkB,KAAK2C,MAAQ,CACXzD,QACAyN,cAAe,GACfC,mBAAmB,GAErB5M,KAAKmE,SAAWnE,KAAKmE,SAASpI,KAAKiE,MACnCA,KAAK2L,iBAAmB3L,KAAK2L,iBAAiB5P,KAAKiE,MACnDA,KAAK6M,aAAe7M,KAAK6M,aAAa9Q,KAAKiE,MAG7CgJ,oBACE,MAAM,MAAE9J,GAAUc,KAAK2C,MACV,MAATzD,GAAec,KAAKiJ,WAG1B7F,mBAAmBC,GACjB,MAAQG,OAASf,QAAUnC,GAAI4I,KAAe7F,GACtCG,OAASf,QAAQ,GAAEnC,KAAWN,KAAKC,MACvCK,IAAO4I,GACTlJ,KAAKiJ,WAIT0C,iBAAiBmB,EAAOvB,GACtB,MAAM,KAAEzQ,GAASgS,EAAMrO,OACvBuB,KAAKuD,SAAU6F,IACb,MAAMuD,EAAgB,IAAKvD,EAAUuD,cAAe,CAAC7R,IAAQyQ,GAE7D,OADIA,UAAcoB,EAAc7R,GACzB,CAAE6R,mBAIbxI,SAAS2I,EAAOC,GACd,MAAM,KAAEjS,EAAMU,MAAOwR,GAAcF,EAAMrO,OACnCjD,OAAyByR,IAAjBF,EAA6BC,EAAYD,EACvD/M,KAAKuD,SAAS6F,IAAa,CACzBlK,MAAO,IAAKkK,EAAUlK,MAAO,CAACpE,GAAOU,MAIzC,mBAAmBiG,GACjBA,EAAEC,iBACF1B,KAAK4M,oBACL,MAAM,YAAEhF,EAAF,UAAe7C,GAAc/E,KAAKC,OAClC,MAAEf,EAAF,cAASyN,GAAkB3M,KAAK2C,MACtC,GAA0C,IAAtC1H,OAAOiS,KAAKP,GAAeJ,OAAc,OAE7C,MAaM,GAAEjM,EAAF,QAAMQ,KAAYqM,GAAYjO,EAC9BsH,QAAa5B,EAdJ,wPAcwB,CAAEuI,UAAS7M,MAAMyE,GAEpDyB,IACFxG,KAAKuD,SAAS,CAAErE,MAAOsH,EAAK8C,cAC5B1B,EAAY,+BAIhB,iBACE,MAAM,MAAEpE,EAAF,UAASuB,GAAc/E,KAAKC,MAC5BuG,QAAakG,EAAUvD,UAAU3F,EAAO,KAAMuB,GACpD/E,KAAKuD,SAAS,CAAErE,MAAOsH,EAAOA,EAAKtH,MAAQ,GAAIyN,cAAe,KAGhES,iBACEpN,KAAKuD,SAAS,CAAEqJ,mBAAmB,IAGrCS,oBACErN,KAAKuD,SAAS,CAAEqJ,mBAAmB,IAGrClN,SACE,MAAM4N,EAAOtN,KAAKG,SACZ,MAAEjB,GAAUc,KAAK2C,MACvB,GAAa,MAATzD,EAAe,OAAO,KAC1B,MAAQA,OAAO,GAAEoB,IAASN,KAAK2C,OACvBa,OAASf,QAAUnC,GAAIiN,KAAgBvN,KAAKC,MACpD,GAAU,MAANK,EACF,OAAe,MAAXiN,EACK,4BAAM,iBAAgBA,gBAExB,KAGT,MAAM,cAAEZ,EAAF,kBAAiBC,GAAsB5M,KAAK2C,MAClD,IAAI6K,EACsC,IAAtCvS,OAAOiS,KAAKP,GAAeJ,QAAgBK,IAC7CY,EACE,kBAAC,QAAD,CAAOnJ,QAAQ,SAASsC,UAAW3G,KAAKqN,mBAAxC,qDAMJ,MAAQnO,OAAO,MAAEgC,EAAF,OAASN,IAAaZ,KAAK2C,OAClCzD,OAAO,MAAE2B,EAAF,OAASG,EAAT,YAAiB7B,IAAkBa,KAAK2C,OAC/CzD,OAAO,QAAE4B,EAAF,IAAWG,IAAUjB,KAAK2C,MAEzC,OACE,kBAAC,QAAD,KACE,kBAAC,QAAMyH,QAAP,KACE,kBAAC,QAAMC,MAAP,KAAe,kBAAiB/J,IAElC,kBAAC,QAAMiK,KAAP,KACE,kBAAC,OAAD,CAAMkD,YAAU,EAACC,SAAU1N,KAAK6M,cAC9B,kBAAC,YAAD,KACE,kBAAC,MAAD,CAAK3I,eAAgByJ,eAAc5J,GAAI,GAAvC,WACA,kBAAC,MAAD,CAAKA,GAAI,GACP,kBAAC,cAAY6J,OAAb,KACG9M,EAAQC,kBAIf,kBAAC,YAAD,KACE,kBAAC,MAAD,CAAKmD,eAAgByJ,eAAc5J,GAAI,GAAvC,UACA,kBAAC,MAAD,CAAKA,GAAI,GACP,kBAAC,cAAD,CACEG,eAAe,SACfpJ,KAAK,SACLU,MAAOoF,EACPuD,SAAUnE,KAAKmE,UAEf,4BAAQ3I,MAAM,OAAd,OACA,4BAAQA,MAAM,YAAd,YACA,4BAAQA,MAAM,SAAd,SACA,4BAAQA,MAAM,UAAd,aAIN,kBAAC,YAAD,KACE,kBAAC,MAAD,CAAK0I,eAAgByJ,eAAc5J,GAAI,GAAvC,SACA,kBAAC,MAAD,CAAKA,GAAI,GACP,kBAAC,cAAD,CACEG,eAAgBmI,EAChBvR,KAAK,QACLU,MAAOqF,EACPsD,SAAUnE,KAAKmE,SACfrI,IAAKwE,MAIX,kBAAC,YAAD,KACE,kBAAC,MAAD,CAAK4D,eAAgByJ,eAAc5J,GAAI,GAAvC,UACA,kBAAC,MAAD,CAAKA,GAAI,GACP,kBAAC,cAAD,CACEG,eAAgB+H,EAChBnR,KAAK,SACLU,MAAOwF,EACPmD,SAAUnE,KAAKmE,SACfrI,IAAKwE,MAIX,kBAAC,YAAD,CAAWuN,gBACTlB,EAAc1L,IAAM,QAAU,MAG9B,kBAAC,MAAD,CAAKiD,eAAgByJ,eAAc5J,GAAI,GAAvC,OACA,kBAAC,MAAD,CAAKA,GAAI,GACP,kBAAC,cAAD,CACEG,eAAgBgH,EAChBS,iBAAkB3L,KAAK2L,iBACvB7Q,KAAK,MACLU,MAAOyF,EACPkD,SAAUnE,KAAKmE,SACfrI,IAAKwE,IAEP,kBAAC,cAAYwN,SAAb,QAGJ,kBAAC,YAAD,KACE,kBAAC,MAAD,CAAK5J,eAAgByJ,eAAc5J,GAAI,GAAvC,SACA,kBAAC,MAAD,CAAKA,GAAI,GACP,kBAAC,cAAD,CACEG,eAAgBmI,EAChB0B,KAAM,GACNjT,KAAK,QACLU,MAAO0F,EACPiD,SAAUnE,KAAKmE,SACfrI,IAAKwE,MAIX,kBAAC,YAAD,KACE,kBAAC,MAAD,CAAK4D,eAAgByJ,eAAc5J,GAAI,GAAvC,eACA,kBAAC,MAAD,CAAKA,GAAI,GACP,kBAAC,cAAD,CACEG,eAAgBmI,EAChBG,IAAI,WACJwB,KAAM,EACNC,KAAM,GACNnT,KAAK,cACLU,MAAO2D,EACPgF,SAAUnE,KAAKmE,SACfrI,IAAKwE,MAIX,kBAAC,YAAD,KACE,kBAAC,MAAD,CAAK4N,SAAU,EAAGnK,GAAI,GACpB,kBAAC,gBAAD,KACE,kBAAC,SAAD,CAAQM,QAAQ,UAAUnE,UAAWoN,EAAK/N,SAAU+E,KAAK,UAAzD,UACA,kBAAC,gBAAD,CAAenD,GAAG,WAChB,kBAAC,SAAD,CAAQkD,QAAQ,QAAhB,YAKR,kBAAC,YAAD,KACE,kBAAC,MAAD,CAAK6J,SAAU,EAAGnK,GAAI,GAAIyJ,MAIhC,kBAAC,QAAMW,OAAP,KACE,kBAAC,OAAD,CAAMhN,GAAK,UAAQb,EAAK,IAAxB,QACC,MACD,kBAAC,OAAD,CAAMa,GAAK,UAAQb,EAAK,IAAxB,WAOVoM,EAAU/K,YAAcvC,EACxB,MAAMgP,EAAqB7G,EAAUmF,GACrC0B,EAAmBjF,UAAYuD,EAAUvD,UAE1BiF,SC5QA,MAAMC,WAAchP,IAAMI,UACvC,yBAEE,aADmBmF,EAAa,iBAIlCrC,YAAYtC,GACVuC,MAAMvC,GACN,MAAMqO,EAAWvG,EAAMjJ,YAAciJ,EAAMjJ,YAAYyP,MAAQ,YACxDxG,EAAMjJ,YACbkB,KAAK2C,MAAQ,CAAE2L,YAGjB,0BACE,MAAM,SAAEA,GAAatO,KAAK2C,MAE1B,GAAgB,MAAZ2L,EAAkB,CACpB,MAAM9H,QAAa6H,GAAMlF,YACzBnJ,KAAKuD,SAAS,CAAE+K,SAAU9H,EAAK+H,SAInC7O,SACE,MAAM,SAAE4O,GAAatO,KAAK2C,MAC1B,OACE,yBAAK6L,UAAU,eACb,yDACA,4BACGF,KCpBOG,OANH,CACb,CAAEjS,KAAM,eAAgBkS,UAAWrG,GACnC,CAAE7L,KAAM,YAAakS,UAAWhC,IAChC,CAAElQ,KAAM,UAAWkS,UAAW/D,GAC9B,CAAEnO,KAAM,SAAUkS,UAAWL,IAC7B,CAAE7R,KAAM,IAAKkS,UCTf,WACE,OAAO,iD,iNCCM,SAASC,KACtB,OACE,kBAAC,SAAD,KACE,kBAAC,WAAD,CAAUC,OAAK,EAACC,KAAK,IAAI1N,GAAG,YAC3BsN,GAAOxM,IAAI6M,GAAS,kBAAC,QAAD,MAAWA,EAAX,CAAkBhT,IAAKgT,EAAMtS,UCCxD,MAAMuS,WAAwB1P,IAAMI,UAClC8C,YAAYtC,GACVuC,MAAMvC,GACND,KAAK2C,MAAQ,CACX+D,SAAS,GAGX1G,KAAKgP,UAAYhP,KAAKgP,UAAUjT,KAAKiE,MACrCA,KAAKiP,UAAYjP,KAAKiP,UAAUlT,KAAKiE,MACrCA,KAAK6M,aAAe7M,KAAK6M,aAAa9Q,KAAKiE,MAG7CgP,YACEhP,KAAKuD,SAAS,CAAEmD,SAAS,IAG3BuI,YACEjP,KAAKuD,SAAS,CAAEmD,SAAS,IAG3B,mBAAmBjF,GACjBA,EAAEC,iBACF1B,KAAKiP,YACL,MAAM,UAAElK,GAAc/E,KAAKC,MACrBiP,EAAOC,SAASC,MAAMC,SACtBnQ,EAAQ,CACZ2B,MAAOqO,EAAKrO,MAAMrF,MAClB0F,MAAOgO,EAAKhO,MAAM1F,MAClByF,IAAK,IAAIyD,MAAK,IAAIA,MAAO4K,UAAY,QASjC9I,QAAa5B,EANJ,yGAMwB,CAAE1F,SAAS6F,GAElD,GAAIyB,EAAM,CACR,MAAM,QAAE/C,GAAYzD,KAAKC,MACzBwD,EAAQI,KAAM,SAAQ2C,EAAK6I,SAAS/O,KAIxCZ,SACE,MAAM,QAAEgH,GAAY1G,KAAK2C,OACjB2K,MAAM,SAAE/N,IAAeS,KAAKC,MACpC,OACE,kBAAC,IAAM6H,SAAP,KACE,kBAAC,UAAD,CAAS5H,UAAWX,EAAUiC,QAASxB,KAAKgP,WAC1C,kBAAC,iBAAD,CACExO,UAAU,OACVY,UAAW,IACXC,QAAS,kBAAC,UAAD,CAASf,GAAG,gBAAZ,iBAET,kBAAC,YAAD,CAAWiB,MAAM,WAGrB,kBAAC,QAAD,CAAOgO,UAAQ,EAACC,KAAM9I,EAAS+I,OAAQzP,KAAKiP,WAC1C,kBAAC,QAAMS,OAAP,CAAcC,aAAW,GACvB,kBAAC,QAAMtF,MAAP,sBAEF,kBAAC,QAAME,KAAP,KACE,kBAAC,OAAD,CAAMzP,KAAK,YACT,kBAAC,YAAD,KACE,kBAAC,eAAD,cACA,kBAAC,cAAD,CAAaA,KAAK,QAAQ8U,WAAS,KAErC,kBAAC,YAAD,KACE,kBAAC,eAAD,cACA,kBAAC,cAAD,CAAa9U,KAAK,aAIxB,kBAAC,QAAMqT,OAAP,KACE,kBAAC,gBAAD,KACE,kBAAC,SAAD,CACE7J,KAAK,SACLD,QAAQ,UACR7C,QAASxB,KAAK6M,cAHhB,UAOA,kBAAC,SAAD,CAAQxI,QAAQ,OAAO7C,QAASxB,KAAKiP,WAArC,eASC1H,SAAU1F,qBAAWkN,K,oBChGpC,MAAMc,WAAexQ,IAAMI,UACzB8C,YAAYtC,GACVuC,MAAMvC,GACND,KAAK8P,kBAAoB9P,KAAK8P,kBAAkB/T,KAAKiE,MACrDA,KAAK+P,YAAc/P,KAAK+P,YAAYhU,KAAKiE,MAG3C8P,mBAAkB,MAAEtU,IAClB,MAAM,QAAEiI,GAAYzD,KAAKC,MACzBwD,EAAQI,KAAM,SAAQrI,GAGxB,kBAAkBwU,GAChB,GAAIA,EAAKzD,OAAS,EAAG,MAAO,GAC5B,MAMM,UAAExH,GAAc/E,KAAKC,MAE3B,aADmB2E,EAPJ,oHAOwB,CAAEhF,OAAQoQ,GAAQjL,IAC7C8D,UAAU9G,OAAOE,IAAI/C,IAAS,CACxC+Q,MAAQ,IAAG/Q,EAAMoB,OAAOpB,EAAMgC,QAAS1F,MAAO0D,EAAMoB,MAIxDZ,SACE,OACE,kBAAC,KAAD,CACEwQ,WAAW,gBACX1U,MAAM,GACNuU,YAAa/P,KAAK+P,YAClBI,aAAc,KAAM,EACpBhM,SAAUnE,KAAK8P,kBACfM,WAAY,CAAEC,kBAAmB,SAM1BxO,4BAAW0F,EAAUsI,KCzCpC,MAAMS,WAAsBjR,IAAMI,UAChC8C,YAAYtC,GACVuC,MAAMvC,GACND,KAAK2C,MAAQ,CACX+D,SAAS,EACTxG,UAAU,GAEZF,KAAKgP,UAAYhP,KAAKgP,UAAUjT,KAAKiE,MACrCA,KAAKiP,UAAYjP,KAAKiP,UAAUlT,KAAKiE,MACrCA,KAAKuQ,QAAUvQ,KAAKuQ,QAAQxU,KAAKiE,MACjCA,KAAKwQ,OAASxQ,KAAKwQ,OAAOzU,KAAKiE,MAGjCgJ,oBACE,MAAMyH,EAAWC,OAAOC,IAAIC,iBACvBH,GACLC,OAAOG,KAAKC,KAAK,QAAS,KACnBJ,OAAOG,KAAKE,MAAMC,mBACrBN,OAAOG,KAAKE,MAAME,KAAK,CAAEC,UAAWT,IAAYU,KAAK,KACnDnR,KAAKuD,SAAS,CAAErD,UAAU,QAMlC,eACEF,KAAKiP,YACL,MAAM,UAAElK,GAAc/E,KAAKC,MAC3B,IAAImR,EACJ,IACE,MAAML,EAAQL,OAAOG,KAAKE,MAAMC,kBAEhCI,SADyBL,EAAMP,UACNa,kBAAkBC,SAC3C,MAAOrL,GACPlB,EAAW,qCAAoCkB,EAAMA,OAGvD,IACE,MAAMhB,EAAcyL,OAAOC,IAAIY,iBACzBhM,QAAiBC,MAASP,EAAF,UAAwB,CACpDQ,OAAQ,OACRC,YAAa,UACbL,QAAS,CAAE,eAAgB,oBAC3BxG,KAAM8G,KAAKC,UAAU,CAAE4L,aAAcJ,MAEjCvS,QAAa0G,EAASM,OACtBC,EAASH,KAAKI,MAAMlH,IACpB,SAAEU,EAAF,UAAYkS,GAAc3L,GAE1B,aAAE4L,GAAiB1R,KAAKC,MAC9ByR,EAAa,CAAEnS,WAAUkS,cACzB,MAAOxL,GACPlB,EAAW,+BAA8BkB,IAI7C,gBACE,MAAMhB,EAAcyL,OAAOC,IAAIY,kBACzB,UAAExM,GAAc/E,KAAKC,MAC3B,UACQuF,MAASP,EAAF,WAAyB,CACpCQ,OAAQ,OACRC,YAAa,YAEf,MAAMqL,EAAQL,OAAOG,KAAKE,MAAMC,wBAC1BD,EAAMR,UACZ,MAAM,aAAEmB,GAAiB1R,KAAKC,MAC9ByR,EAAa,CAAEnS,UAAU,EAAOkS,UAAW,MAC3C,MAAOxL,GACPlB,EAAW,sBAAqBkB,IAIpC+I,YACE,MAAMyB,EAAWC,OAAOC,IAAIC,kBACtB,UAAE7L,GAAc/E,KAAKC,MACtBwQ,EAILzQ,KAAKuD,SAAS,CAAEmD,SAAS,IAHvB3B,EAAU,iDAMdkK,YACEjP,KAAKuD,SAAS,CAAEmD,SAAS,IAG3BhH,SACE,MAAM,KAAE4N,GAAStN,KAAKC,MACtB,GAAIqN,EAAK/N,SACP,OACE,kBAAC,cAAD,CAAa2B,MAAOoM,EAAKmE,UAAWnR,GAAG,QACrC,kBAAC,WAAD,CAAUkB,QAASxB,KAAKuQ,SAAxB,aAKN,MAAM,QAAE7J,EAAF,SAAWxG,GAAaF,KAAK2C,MAEnC,OACE,oCACE,kBAAC,UAAD,CAASnB,QAASxB,KAAKgP,WAAvB,WAGA,kBAAC,QAAD,CAAOO,UAAQ,EAACC,KAAM9I,EAAS+I,OAAQzP,KAAKiP,UAAW3N,OAAO,MAC5D,kBAAC,QAAMoO,OAAP,CAAcC,aAAW,GACvB,kBAAC,QAAMtF,MAAP,iBAEF,kBAAC,QAAME,KAAP,KACE,kBAAC,SAAD,CACEoH,OAAK,EACLzR,SAAUA,EACVmE,QAAQ,UACR7C,QAASxB,KAAKwQ,QAEd,yBAAKoB,IAAI,uBAAuBC,IAAI,cAGxC,kBAAC,QAAM1D,OAAP,KACE,kBAAC,SAAD,CAAQ9J,QAAQ,OAAO7C,QAASxB,KAAKiP,WAArC,cAQG1H,SAAU+I,ICvHzB,SAASwB,IAAO,KAAExE,EAAF,aAAQoE,IACtB,OACE,kBAAC,SAAD,KACE,kBAAC,SAAOhC,OAAR,KACE,kBAAC,SAAOqC,MAAR,uBAEF,kBAAC,MAAD,KACE,kBAAC,gBAAD,CAAenD,OAAK,EAACzN,GAAG,KACtB,kBAAC,UAAD,cAEF,kBAAC,gBAAD,CAAeA,GAAG,WAChB,kBAAC,UAAD,oBAEF,kBAAC,gBAAD,CAAeA,GAAG,WAChB,kBAAC,UAAD,iBAGJ,kBAAC,MAAD,CAAK4C,GAAI,GACP,kBAAC,SAAOiO,KAAR,KACE,kBAAC,GAAD,QAGJ,kBAAC,MAAD,CAAKC,WAAS,GACZ,kBAAC,GAAD,CAAiB3E,KAAMA,IACvB,kBAAC4E,GAAD,CAAe5E,KAAMA,EAAMoE,aAAcA,IACzC,kBAAC,cAAD,CACEpR,GAAG,gBACHY,MAAO,kBAAC,YAAD,CAAWK,MAAM,oBACxB4Q,SAAO,GAEP,kBAAC,gBAAD,CAAehR,GAAG,UAChB,kBAAC,WAAD,kBAQZ,SAASgN,KACP,OACE,+BACE,6BACA,uBAAGK,UAAU,eAAb,qCAEG,IACD,uBAAG4D,KAAK,+CAAR,uBAQO,MAAMC,WAAahT,IAAMI,UACtC,uBAAuBuF,GAKrB,aADmBJ,EAHJ,mDAGwB,KAAM,KAAMI,GAIrDzC,YAAYtC,GACVuC,MAAMvC,GACN,MAAMqN,EAAOvF,EAAMhJ,SAAWgJ,EAAMhJ,SAASuO,KAAO,YAC7CvF,EAAMhJ,SACbiB,KAAK2C,MAAQ,CAAE2K,QAEftN,KAAK0R,aAAe1R,KAAK0R,aAAa3V,KAAKiE,MAG7C,0BACE,MAAM,KAAEsN,GAAStN,KAAK2C,MACtB,GAAY,MAAR2K,EAAc,CAChB,MAAM9G,QAAa6L,GAAKlJ,YACxBnJ,KAAKuD,SAAS,CAAE+J,KAAM9G,EAAK8G,QAI/BoE,aAAapE,GACXtN,KAAKuD,SAAS,CAAE+J,SAGlB5N,SACE,MAAM,KAAE4N,GAAStN,KAAK2C,MACtB,OAAY,MAAR2K,EAAqB,KAEvB,6BACE,kBAACwE,GAAD,CAAQxE,KAAMA,EAAMoE,aAAc1R,KAAK0R,eACvC,kBAAC,OAAD,CAAMY,OAAK,GACT,kBAAC,EAAYC,SAAb,CAAsB/W,MAAO8R,GAC3B,kBAACqB,GAAD,QAGJ,kBAACR,GAAD,QCpEOzO,OAjCfiF,eAAsB6N,EAAKC,GACzB,MAAMC,EAAcjE,GAAOkE,KACzBC,GAASC,oBAAUL,EAAIhW,KAAMoW,IAG/B,IAAI9T,EAEJ,GAAI4T,GAAeA,EAAYhE,UAAUvF,UAAW,CAClD,MAAM3F,EAAQqP,oBAAUL,EAAIhW,KAAMkW,GAC5B3S,EAAQyS,EAAIM,IAAIC,QAAQ,KACxBnT,EAAmB,IAAVG,EAAcyS,EAAIM,IAAIzH,OAAOtL,GAAS,KACrDjB,QAAoB4T,EAAYhE,UAAUvF,UAAU3F,EAAO5D,EAAQ4S,EAAInN,QAAQL,QAGjF,MAAMjG,QAAiBsT,GAAKlJ,UAAUqJ,EAAInN,QAAQL,QAElD+C,EAAMjJ,YAAcA,EACpBiJ,EAAMhJ,SAAWA,EACjB,MAAMoB,EAAU,GACV6S,EACJ,kBAAC,eAAD,CAAcrT,SAAU6S,EAAIM,IAAK3S,QAASA,GACxC,kBAAC,GAAD,OAGEtB,EAAOoU,IAAeC,eAAeF,GACvC7S,EAAQ2S,IACVL,EAAIU,SAAS,IAAKhT,EAAQ2S,KAE1BL,EAAIW,KAAKxU,EAASC,EAAMC,EAAaC,IAEvC0T,EAAIW,KAAKxU,EAASC,EAAMC,EAAaC,KChCvC,MAAMlC,GAAMwW,MACZC,IAAiBC,UACjBC,IAAOC,SAEP,MAAMC,GAAOxO,QAAQC,IAAIwO,gBAAkB,IAGrCC,GAAiB1O,QAAQC,IAAI0O,iBAC9B3O,QAAQC,IAAI2O,kBACf5O,QAAQC,IAAI2O,gBAAkB,iCAG3B5O,QAAQC,IAAIC,yBACfF,QAAQC,IAAIC,uBAAyBF,QAAQC,IAAI2O,iBAG/CF,KACF/W,GAAIS,IAAI,WAAYyW,IAAM,CAAEtV,OAAQmV,GAAgBI,cAAc,KAClEnX,GAAIS,IAAI,QAASyW,IAAM,CAAEtV,OAAQmV,GAAgBI,cAAc,MAG5D9O,QAAQC,IAAIoM,mBACfrM,QAAQC,IAAIoM,iBAAmB,8BAGdrM,QAAQC,IAAI8O,WAiB/BpX,GAAIS,IAAI+V,IAAQa,OAAO,WACvBrX,GAAIzB,IAAI,UAAW,CAACoX,EAAKC,KACvB,MAAMtN,EAAM,CACV2O,gBAAiB5O,QAAQC,IAAI2O,gBAC7BvC,iBAAkBrM,QAAQC,IAAIoM,iBAC9BX,iBAAkB1L,QAAQC,IAAIyL,kBAEhC6B,EAAIW,KAAM,gBAAezN,KAAKC,UAAUT,MAE1CtI,GAAIzB,IAAI,IAAK,CAACoX,EAAKC,EAAK0B,KACtBzU,GAAO8S,EAAKC,EAAK0B,KAGnBtX,GAAIuX,OAAOV,GAAM,KACfW,QAAQC,IAAK,sBAAqBZ","file":"server.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 14);\n","module.exports = require(\"react\");","module.exports = require(\"react-bootstrap\");","module.exports = require(\"react-router-dom\");","module.exports = require(\"react-router-bootstrap\");","module.exports = require(\"url-search-params\");","module.exports = require(\"express\");","module.exports = require(\"http-proxy-middleware\");","module.exports = require(\"serialize-javascript\");","module.exports = require(\"webpack\");","module.exports = require(\"dotenv\");","module.exports = require(\"source-map-support\");","module.exports = require(\"react-dom/server\");","module.exports = require(\"isomorphic-fetch\");","module.exports = require(\"react-select/lib/Async\");","module.exports = require(\"webpack-dev-middleware\");","module.exports = require(\"webpack-hot-middleware\");","const path = require('path');\nconst webpack = require('webpack');\nconst nodeExternals = require('webpack-node-externals');\n\nconst browserConfig = {\n  mode: 'development',\n  entry: { app: ['./browser/App.jsx'] },\n  output: {\n    filename: '[name].bundle.js',\n    path: path.resolve(__dirname, 'public'),\n    publicPath: '/',\n  },\n  module: {\n    rules: [\n      {\n        test: /\\.jsx?$/,\n        exclude: /node_modules/,\n        use: {\n          loader: 'babel-loader',\n          options: {\n            presets: [\n              ['@babel/preset-env', {\n                targets: {\n                  ie: '11',\n                  edge: '15',\n                  safari: '10',\n                  firefox: '50',\n                  chrome: '49',\n                },\n              }],\n              '@babel/preset-react',\n            ],\n          },\n        },\n      },\n    ],\n  },\n  optimization: {\n    splitChunks: {\n      name: 'vendor',\n      chunks: 'all',\n    },\n  },\n  plugins: [\n    new webpack.DefinePlugin({ __isBrowser__: 'true' }),\n  ],\n  devtool: 'source-map',\n};\n\nconst serverConfig = {\n  mode: 'development',\n  entry: { server: ['./server/uiserver.js'] },\n  target: 'node',\n  externals: [nodeExternals()],\n  output: {\n    filename: 'server.js',\n    path: path.resolve(__dirname, 'dist'),\n    publicPath: '/',\n  },\n  module: {\n    rules: [\n      {\n        test: /\\.jsx?$/,\n        use: {\n          loader: 'babel-loader',\n          options: {\n            presets: [\n              ['@babel/preset-env', {\n                targets: { node: '10' },\n              }],\n              '@babel/preset-react',\n            ],\n          },\n        },\n      },\n    ],\n  },\n  plugins: [\n    new webpack.DefinePlugin({ __isBrowser__: 'false' }),\n  ],\n  devtool: 'source-map',\n};\n\nmodule.exports = [browserConfig, serverConfig];\n","module.exports = require(\"path\");","module.exports = require(\"webpack-node-externals\");","import serialize from 'serialize-javascript';\n\nexport default function template(body, initialData, userData) {\n  return `<!DOCTYPE HTML>\n<html>\n\n<head>\n  <meta charset=\"utf-8\">\n  <title>Pro MERN Stack</title>\n  <link rel=\"stylesheet\" href=\"/bootstrap/css/bootstrap.min.css\" >\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n  <script src=\"https://apis.google.com/js/api:client.js\"></script>\n  <style>\n    table.table-hover tr {cursor: pointer;}\n    .panel-title a {display: block; width: 100%; cursor: pointer;}\n  </style>\n</head>\n<body>\n  <!-Page generated from template. >\n  <div id=\"contents\">${body}</div>\n  <script>\n    window.__INITIAL_DATA__ = ${serialize(initialData)}\n    window.__USER_DATA__ = ${serialize(userData)}\n  </script>\n  <script src=\"/env.js\"></script>\n  <script src=\"/vendor.bundle.js\"></script>\n  <script src=\"/app.bundle.js\"></script>\n</body>\n</html>\n`;\n}\n","import React from 'react';\n\nexport default function IssueDetail({ issue }) {\n  if (issue) {\n    return (\n      <div>\n        <h3>Description</h3>\n        <pre>{issue.description}</pre>\n      </div>\n    );\n  }\n\n  return null;\n}\n","import React from 'react';\n\nconst UserContext = React.createContext({\n  signedIn: false,\n});\n\nexport default UserContext;\n","import React from 'react';\nimport { withRouter } from 'react-router-dom';\nimport {\n  Button, Glyphicon, Tooltip, OverlayTrigger, Table,\n} from 'react-bootstrap';\nimport { LinkContainer } from 'react-router-bootstrap';\nimport UserContext from './UserContext.js';\n// eslint-disable-next-line react/prefer-stateless-function\nclass IssueRowPlain extends React.Component {\n  render() {\n    const {\n      issue, location: { search }, closeIssue, deleteIssue, index,\n    } = this.props;\n    const user = this.context;\n    const disabled = !user.signedIn;\n    const selectLocation = { pathname: `/issues/${issue.id}`, search };\n    const closeTooltip = (\n      <Tooltip id=\"close-tooltip\" placement=\"top\">Close Issue</Tooltip>\n    );\n    const deleteTooltip = (\n      <Tooltip id=\"delete-tooltip\" placement=\"top\">Delete Issue</Tooltip>\n    );\n    const editTooltip = (\n      <Tooltip id=\"close-tooltip\" placement=\"top\">Edit Issue</Tooltip>);\n\n    function onClose(e) {\n      e.preventDefault();\n      closeIssue(index);\n    }\n\n    function onDelete(e) {\n      e.preventDefault();\n      deleteIssue(index);\n    }\n\n    const tableRow = (\n      <tr>\n        <td>{issue.id}</td>\n        <td>{issue.status}</td>\n        <td>{issue.owner}</td>\n        <td>{issue.created.toDateString()}</td>\n        <td>{issue.effort}</td>\n        <td>{issue.due ? issue.due.toDateString() : ''}</td>\n        <td>{issue.title}</td>\n        <td>\n          <LinkContainer to={`/edit/${issue.id}`}>\n            <OverlayTrigger delayShow={1000} overlay={editTooltip}>\n              <Button bsSize=\"xsmall\">\n                <Glyphicon glyph=\"edit\" />\n              </Button>\n            </OverlayTrigger>\n          </LinkContainer>\n          {' '}\n          <OverlayTrigger delayShow={1000} overlay={closeTooltip}>\n            <Button disabled={disabled} bsSize=\"xsmall\" onClick={onClose}>\n              <Glyphicon glyph=\"remove\" />\n            </Button>\n          </OverlayTrigger>\n          {' '}\n          <OverlayTrigger delayShow={1000} overlay={deleteTooltip}>\n            <Button disabled={disabled} bsSize=\"xsmall\" onClick={onDelete}>\n              <Glyphicon glyph=\"trash\" />\n            </Button>\n          </OverlayTrigger>\n        </td>\n      </tr>\n    );\n\n    return (\n      <LinkContainer to={selectLocation}>\n        {tableRow}\n      </LinkContainer>\n    );\n  }\n}\n\nIssueRowPlain.contextType = UserContext;\nconst IssueRow = withRouter(IssueRowPlain);\ndelete IssueRow.contextType;\n\nexport default function IssueTable({ issues, closeIssue, deleteIssue }) {\n  const issueRows = issues.map((issue, index) => (\n    <IssueRow\n      key={issue.id}\n      issue={issue}\n      closeIssue={closeIssue}\n      index={index}\n      deleteIssue={deleteIssue}\n    />\n  ));\n\n  return (\n    <Table bordered condensed hover responsive>\n      <thead>\n        <tr>\n          <th>ID</th>\n          <th>Status</th>\n          <th>Owner</th>\n          <th>Created</th>\n          <th>Effort</th>\n          <th>Due Date</th>\n          <th>Title</th>\n          <th>Action</th>\n        </tr>\n      </thead>\n      <tbody>\n        {issueRows}\n      </tbody>\n    </Table>\n  );\n}\n","import React from 'react';\nimport { withRouter } from 'react-router-dom';\nimport URLSearchParams from 'url-search-params';\nimport {\n  ButtonToolbar, Button, FormGroup, FormControl,\n  ControlLabel, InputGroup, Row, Col,\n} from 'react-bootstrap';\n/* eslint \"react/prefer-stateless-function\": \"off\" */\n\nclass IssueFilter extends React.Component {\n  constructor({ location: { search } }) {\n    super();\n    const params = new URLSearchParams(search);\n    this.state = {\n      status: params.get('status') || '',\n      effortMin: params.get('effortMin') || '',\n      effortMax: params.get('effortMax') || '',\n      changed: false,\n    };\n\n    this.applyFilter = this.applyFilter.bind(this);\n    this.showOriginalFilter = this.showOriginalFilter.bind(this);\n    this.onChangeStatus = this.onChangeStatus.bind(this);\n    this.onChangeEffortMin = this.onChangeEffortMin.bind(this);\n    this.onChangeEffortMax = this.onChangeEffortMax.bind(this);\n  }\n\n  componentDidUpdate(prevProps) {\n    const { location: { search: prevSearch } } = prevProps;\n    const { location: { search } } = this.props;\n    if (prevSearch !== search) {\n      this.showOriginalFilter();\n    }\n  }\n\n  onChangeStatus(e) {\n    this.setState({ status: e.target.value, changed: true });\n  }\n\n  onChangeEffortMin(e) {\n    const effortString = e.target.value;\n    if (effortString.match(/^\\d*$/)) {\n      this.setState({ effortMin: e.target.value, changed: true });\n    }\n  }\n\n  onChangeEffortMax(e) {\n    const effortString = e.target.value;\n    if (effortString.match(/^\\d*$/)) {\n      this.setState({ effortMax: e.target.value, changed: true });\n    }\n  }\n\n  showOriginalFilter() {\n    const { location: { search } } = this.props;\n    const params = new URLSearchParams(search);\n    this.setState({\n      status: params.get('status') || '',\n      effortMin: params.get('effortMin') || '',\n      effortMax: params.get('effortMax') || '',\n      changed: false,\n    });\n  }\n\n  applyFilter() {\n    const { status, effortMin, effortMax } = this.state;\n    const { history, urlBase } = this.props;\n    const params = new URLSearchParams();\n    if (status) params.set('status', status);\n    if (effortMin) params.set('effortMin', effortMin);\n    if (effortMax) params.set('effortMax', effortMax);\n    const search = params.toString() ? `?${params.toString()}` : '';\n    history.push({ pathname: urlBase, search });\n  }\n\n  render() {\n    const { status, changed } = this.state;\n    const { effortMin, effortMax } = this.state;\n\n    return (\n      <Row>\n        <Col xs={6} sm={4} md={3} lg={2}>\n          <FormGroup>\n            <ControlLabel>Status:</ControlLabel>\n            <FormControl\n              componentClass=\"select\"\n              value={status}\n              onChange={this.onChangeStatus}\n            >\n              <option value=\"\">(All)</option>\n              <option value=\"New\">New</option>\n              <option value=\"Assigned\">Assigned</option>\n              <option value=\"Fixed\">Fixed</option>\n              <option value=\"Closed\">Closed</option>\n            </FormControl>\n          </FormGroup>\n        </Col>\n        <Col xs={6} sm={4} md={3} lg={2}>\n          <FormGroup>\n            <ControlLabel>Effort between:</ControlLabel>\n            <InputGroup>\n              <FormControl\n                value={effortMin}\n                onChange={this.onChangeEffortMin}\n              />\n              <InputGroup.Addon>-</InputGroup.Addon>\n              <FormControl\n                value={effortMax}\n                onChange={this.onChangeEffortMax}\n              />\n            </InputGroup>\n          </FormGroup>\n        </Col>\n        <Col xs={6} sm={4} md={3} lg={2}>\n          <FormGroup>\n            <ControlLabel>&nbsp;</ControlLabel>\n            <ButtonToolbar>\n              <Button bsStyle=\"primary\" type=\"button\" onClick={this.applyFilter}>\n                Apply\n              </Button>\n              <Button\n                type=\"button\"\n                onClick={this.showOriginalFilter}\n                disabled={!changed}\n              >\n                Reset\n              </Button>\n            </ButtonToolbar>\n          </FormGroup>\n        </Col>\n      </Row>\n    );\n  }\n}\n\nexport default withRouter(IssueFilter);\n","import fetch from 'isomorphic-fetch';\n\nconst dateRegex = new RegExp('^\\\\d\\\\d\\\\d\\\\d-\\\\d\\\\d-\\\\d\\\\d');\nfunction jsonDateReviver(key, value) {\n  if (dateRegex.test(value)) return new Date(value);\n  return value;\n}\n\nexport default async function graphQLFetch(query, variables = {}, showError = null, cookie = null) {\n  const apiEndpoint = (__isBrowser__) // eslint-disable-line no-undef\n    ? window.ENV.UI_API_ENDPOINT\n    : process.env.UI_SERVER_API_ENDPOINT;\n  try {\n    const headers = { 'Content-Type': 'application/json' };\n    if (cookie) headers.Cookie = cookie;\n    const response = await fetch(apiEndpoint, {\n      method: 'POST',\n      credentials: 'include',\n      headers,\n      body: JSON.stringify({ query, variables }),\n    });\n    const body = await response.text();\n    const result = JSON.parse(body, jsonDateReviver);\n\n    if (result.errors) {\n      const error = result.errors[0];\n      if (error.extensions.code === 'BAD_USER_INPUT') {\n        const details = error.extensions.exception.errors.join('\\n ');\n        if (showError) showError(`${error.message}:\\n ${details}`);\n      } else if (showError) {\n        showError(`${error.extensions.code}: ${error.message}`);\n      }\n    }\n    return result.data;\n  } catch (e) {\n    if (showError) showError(`Error in sending data to server: ${e.message}`);\n    return null;\n  }\n}\n","import React from 'react';\nimport { Alert, Collapse } from 'react-bootstrap';\n\nexport default class Toast extends React.Component {\n  componentDidUpdate() {\n    const { showing, onDismiss } = this.props;\n\n    if (showing) {\n      clearTimeout(this.dismissTimer);\n      this.dismissTimer = setTimeout(onDismiss, 5000);\n    }\n  }\n\n  componentWillUnmount() {\n    clearTimeout(this.dismissTimer);\n  }\n\n  render() {\n    const {\n      showing, bsStyle, onDismiss, children,\n    } = this.props;\n\n    return (\n      <Collapse in={showing}>\n        <div style={{\n          position: 'fixed', bottom: 20, left: 20, zIndex: 10,\n        }}\n        >\n          <Alert bsStyle={bsStyle} onDismiss={onDismiss}>\n            {children}\n          </Alert>\n        </div>\n      </Collapse>\n    );\n  }\n}\n","import React from 'react';\nimport Toast from './Toast.jsx';\n\nexport default function withToast(OriginalComponent) {\n  return class ToastWrapper extends React.Component {\n    constructor(props) {\n      super(props);\n      this.state = {\n        toastVisible: false, toastMessage: '', toastType: 'success',\n      };\n      this.showSuccess = this.showSuccess.bind(this);\n      this.showError = this.showError.bind(this);\n      this.dismissToast = this.dismissToast.bind(this);\n    }\n\n    showSuccess(message) {\n      this.setState({\n        toastVisible: true,\n        toastMessage: message,\n        toastType: 'success',\n      });\n    }\n\n    showError(message) {\n      this.setState({\n        toastVisible: true,\n        toastMessage: message,\n        toastType: 'danger',\n      });\n    }\n\n    dismissToast() {\n      this.setState({\n        toastVisible: false,\n      });\n    }\n\n    render() {\n      const { toastType, toastVisible, toastMessage } = this.state;\n\n      return (\n        <React.Fragment>\n          <OriginalComponent\n            showError={this.showError}\n            showSuccess={this.showSuccess}\n            dismissToast={this.dismissToast}\n            {...this.props}\n          />\n          <Toast\n            bsStyle={toastType}\n            showing={toastVisible}\n            onDismiss={this.dismissToast}\n          >\n            {toastMessage}\n          </Toast>\n        </React.Fragment>\n      );\n    }\n  };\n}\n","const store = {};\nexport default store;\n","import React from 'react';\nimport URLSearchParams from 'url-search-params';\nimport { Panel, Pagination, Button } from 'react-bootstrap';\nimport { LinkContainer } from 'react-router-bootstrap';\nimport IssueDetail from './IssueDetail.jsx';\nimport IssueTable from './IssueTable.jsx';\nimport IssueFilter from './IssueFilter.jsx';\nimport graphQLFetch from './graphQLFetch.js';\nimport withToast from './withToast.jsx';\nimport store from './store.js';\n\nconst SECTION_SIZE = 5;\n\nfunction PageLink({\n  params, page, activePage, children,\n}) {\n  params.set('page', page);\n\n  if (page === 0) return React.cloneElement(children, { disabled: true });\n\n  return (\n    <LinkContainer\n      isActive={() => page === activePage}\n      to={{ search: `?${params.toString()}` }}\n    >\n      {children}\n    </LinkContainer>\n  );\n}\n\nclass IssueList extends React.Component {\n  static async fetchData(match, search, showError) {\n    const params = new URLSearchParams(search);\n    const vars = { hasSelection: false, selectedId: 0 };\n    let page = parseInt(params.get('page'), 10);\n    if (Number.isNaN(page)) page = 1;\n    vars.page = page;\n\n    if (params.get('status')) vars.status = params.get('status');\n    const effortMin = parseInt(params.get('effortMin'), 10);\n\n    if (!Number.isNaN(effortMin)) vars.effortMin = effortMin;\n    const effortMax = parseInt(params.get('effortMax'), 10);\n\n    if (!Number.isNaN(effortMax)) vars.effortMax = effortMax;\n    const { params: { id } } = match;\n    const idInt = parseInt(id, 10);\n\n    if (!Number.isNaN(idInt)) {\n      vars.hasSelection = true;\n      vars.selectedId = idInt;\n    }\n\n    const query = `query issueList(\n      $status: StatusType\n      $effortMin: Int\n      $effortMax: Int\n      $hasSelection: Boolean!\n      $selectedId: Int!\n      $page: Int\n    ) {\n      issueList(\n        status: $status\n        effortMin: $effortMin\n        effortMax: $effortMax\n        page: $page\n    ) {\n      issues {\n        id title status owner\n        created effort due\n      }\n      pages\n    }\n    issue(id: $selectedId) @include (if : $hasSelection) {\n      id description\n    }\n  }`;\n\n    const data = await graphQLFetch(query, vars, showError);\n    return data;\n  }\n\n  constructor() {\n    super();\n    const initialData = store.initialData || { issueList: {} };\n    const {\n      issueList: { issues, pages }, issue: selectedIssue,\n    } = initialData;\n\n    delete store.initialData;\n\n    this.state = {\n      issues,\n      selectedIssue,\n      pages,\n    };\n\n    this.closeIssue = this.closeIssue.bind(this);\n    this.deleteIssue = this.deleteIssue.bind(this);\n  }\n\n  componentDidMount() {\n    const { issues } = this.state; if (issues == null) this.loadData();\n  }\n\n  componentDidUpdate(prevProps) {\n    const {\n      location: { search: prevSearch },\n      match: { params: { id: prevId } },\n    } = prevProps;\n    const { location: { search }, match: { params: { id } } } = this.props;\n    if (prevSearch !== search || prevId !== id) {\n      this.loadData();\n    }\n  }\n\n  async loadData() {\n    const { location: { search }, match, showError } = this.props;\n    const data = await IssueList.fetchData(match, search, showError);\n\n    if (data) {\n      this.setState({\n        issues: data.issueList.issues,\n        selectedIssue: data.issue,\n        pages: data.issueList.pages,\n      });\n    }\n  }\n\n  async closeIssue(index) {\n    const query = `mutation issueClose($id: Int!) {\n      issueUpdate(id: $id, changes: { status: Closed }) {\n        id title status owner effort\n        created due description\n      }\n    }`;\n\n    const { issues } = this.state;\n    const { showError } = this.props;\n    const data = await graphQLFetch(query, { id: issues[index].id }, showError);\n    if (data) {\n      this.setState((prevState) => {\n        const newList = [...prevState.issues];\n        newList[index] = data.issueUpdate;\n        return { issues: newList };\n      });\n    } else {\n      this.loadData();\n    }\n  }\n\n  async deleteIssue(index) {\n    const query = `mutation issueDelete($id: Int!) {\n      issueDelete(id: $id) }`;\n    const { issues } = this.state;\n    const { showSuccess, showError } = this.props;\n    const { location: { pathname, search }, history } = this.props;\n    const { id } = issues[index];\n    const data = await graphQLFetch(query, { id }, showError);\n\n    if (data && data.issueDelete) {\n      this.setState((prevState) => {\n        const newList = [...prevState.issues];\n        const undoMessage = (\n          <span>\n            {`Deleted issue ${id} successfully.`}\n            <Button bsStyle=\"link\" onClick={() => this.restoreIssue(id)}>\n              UNDO\n            </Button>\n          </span>\n        );\n        showSuccess(undoMessage);\n\n        if (pathname === `/issues/${id}`) {\n          history.push({ pathname: '/issues', search });\n        } newList.splice(index, 1);\n        return { issues: newList };\n      });\n    } else {\n      this.loadData();\n    }\n  }\n\n  async restoreIssue(id) {\n    const query = `mutation issueRestore($id: Int!) {\n        issueRestore(id: $id)\n      }`;\n    const { showSuccess, showError } = this.props;\n    const data = await graphQLFetch(query, { id }, showError);\n\n    if (data) {\n      showSuccess(`Issue ${id} restored successfully.`);\n      this.loadData();\n    }\n  }\n\n  render() {\n    const { issues } = this.state;\n    if (issues == null) return null;\n    const { selectedIssue, pages } = this.state;\n    const { location: { search } } = this.props;\n    const params = new URLSearchParams(search);\n    let page = parseInt(params.get('page'), 10);\n\n    if (Number.isNaN(page)) page = 1;\n    const startPage = Math.floor((page - 1) / SECTION_SIZE) * SECTION_SIZE + 1;\n    const endPage = startPage + SECTION_SIZE - 1;\n    const prevSection = startPage === 1 ? 0 : startPage - SECTION_SIZE;\n    const nextSection = endPage >= pages ? 0 : startPage + SECTION_SIZE;\n    const items = [];\n\n    for (let i = startPage; i <= Math.min(endPage, pages); i += 1) {\n      params.set('page', i);\n      items.push(\n        <PageLink key={i} params={params} activePage={page} page={i}>\n          <Pagination.Item>{i}</Pagination.Item>\n        </PageLink>,\n      );\n    }\n\n    return (\n      <React.Fragment>\n        <Panel>\n          <Panel.Heading>\n            <Panel.Title toggle>Filter</Panel.Title>\n          </Panel.Heading>\n          <Panel.Body collapsible>\n            <IssueFilter urlBase=\"/issues\" />\n          </Panel.Body>\n        </Panel>\n        <IssueTable\n          issues={issues}\n          closeIssue={this.closeIssue}\n          deleteIssue={this.deleteIssue}\n        />\n        <IssueDetail issue={selectedIssue} />\n        <Pagination>\n          <PageLink params={params} page={prevSection}>\n            <Pagination.Item>{'<'}</Pagination.Item>\n          </PageLink>\n          {items}\n          <PageLink params={params} page={nextSection}>\n            <Pagination.Item>{'>'}</Pagination.Item>\n          </PageLink>\n        </Pagination>\n      </React.Fragment>\n    );\n  }\n}\nconst IssueListWithToast = withToast(IssueList);\nIssueListWithToast.fetchData = IssueList.fetchData;\n\nexport default IssueListWithToast;\n","import React from 'react';\nimport { Panel, Table } from 'react-bootstrap';\nimport IssueFilter from './IssueFilter.jsx';\nimport withToast from './withToast.jsx';\nimport graphQLFetch from './graphQLFetch.js';\nimport store from './store.js';\n\nconst statuses = ['New', 'Assigned', 'Fixed', 'Closed'];\n\nclass IssueReport extends React.Component {\n  static async fetchData(match, search, showError) {\n    const params = new URLSearchParams(search);\n    const vars = { };\n\n    if (params.get('status')) vars.status = params.get('status');\n    const effortMin = parseInt(params.get('effortMin'), 10);\n\n    if (!Number.isNaN(effortMin)) vars.effortMin = effortMin;\n    const effortMax = parseInt(params.get('effortMax'), 10);\n\n    if (!Number.isNaN(effortMax)) vars.effortMax = effortMax;\n\n    const query = `query issueList(\n      $status: StatusType\n      $effortMin: Int\n      $effortMax: Int\n    ) {\n      issueCounts(\n        status: $status\n        effortMin: $effortMin\n        effortMax: $effortMax\n      ) {\n        owner New Assigned Fixed Closed\n      }\n    }`;\n\n    const data = await graphQLFetch(query, vars, showError);\n    return data;\n  }\n\n  constructor(props) {\n    super(props);\n    const stats = store.initialData ? store.initialData.issueCounts : null;\n    delete store.initialData;\n    this.state = { stats };\n  }\n\n  componentDidMount() {\n    const { stats } = this.state;\n    if (stats == null) this.loadData();\n  }\n\n  componentDidUpdate(prevProps) {\n    const { location: { search: prevSearch } } = prevProps;\n    const { location: { search } } = this.props;\n\n    if (prevSearch !== search) {\n      this.loadData();\n    }\n  }\n\n  async loadData() {\n    const { location: { search }, match, showError } = this.props;\n    const data = await IssueReport.fetchData(match, search, showError);\n\n    if (data) {\n      this.setState({ stats: data.issueCounts });\n    }\n  }\n\n  render() {\n    const { stats } = this.state;\n\n    if (stats == null) return null;\n    const headerColumns = (\n      statuses.map(status => (\n        <th key={status}>{status}</th>\n      ))\n    );\n\n    const statRows = stats.map(counts => (\n      <tr key={counts.owner}>\n        <td>{counts.owner}</td>\n        {statuses.map(status => (\n          <td key={status}>{counts[status]}</td>\n        ))}\n      </tr>\n    ));\n\n    return (\n      <>\n        <Panel>\n          <Panel.Heading>\n            <Panel.Title toggle>Filter</Panel.Title>\n          </Panel.Heading>\n          <Panel.Body collapsible>\n            <IssueFilter urlBase=\"/report\" />\n          </Panel.Body>\n        </Panel>\n        <Table bordered condensed hover responsive>\n          <thead>\n            <tr>\n              <th />\n              {headerColumns}\n            </tr>\n          </thead>\n          <tbody>\n            {statRows}\n          </tbody>\n        </Table>\n      </>\n    );\n  }\n}\n\nconst IssueReportWithToast = withToast(IssueReport);\nIssueReportWithToast.fetchData = IssueReport.fetchData;\nexport default IssueReportWithToast;\n","import React from 'react';\n\nfunction displayFormat(date) {\n  return (date != null) ? date.toDateString() : '';\n}\n\nfunction editFormat(date) {\n  return (date != null) ? date.toISOString().substr(0, 10) : '';\n}\n\nfunction unformat(str) {\n  const isDate = str.match(/^(19|20)\\d\\d[- /.](0[1-9]|1[012])[- /.](0[1-9]|[12][0-9]|3[01])$/);\n  return isDate ? new Date(str) : null;\n}\n\nexport default class DateInput extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      value: editFormat(props.value),\n      focused: false,\n      valid: true,\n    };\n\n    this.onFocus = this.onFocus.bind(this);\n    this.onBlur = this.onBlur.bind(this);\n    this.onChange = this.onChange.bind(this);\n  }\n\n  onFocus() {\n    this.setState({ focused: true });\n  }\n\n  onBlur(e) {\n    const { value, valid: oldValid } = this.state;\n    const { onValidityChange, onChange } = this.props;\n    const dateValue = unformat(value);\n    const valid = value === '' || dateValue != null;\n\n    if (valid !== oldValid && onValidityChange) {\n      onValidityChange(e, valid);\n    }\n\n    this.setState({ focused: false, valid });\n    if (valid) onChange(e, dateValue);\n  }\n\n  onChange(e) {\n    if (e.target.value.match(/^[\\d-]*$/)) {\n      this.setState({ value: e.target.value });\n    }\n  }\n\n  render() {\n    const { valid, focused, value } = this.state;\n    const { value: origValue, onValidityChange, ...props } = this.props;\n    const displayValue = (focused || !valid) ? value\n      : displayFormat(origValue);\n    return (\n      <input\n        {...props}\n        value={displayValue}\n        placeholder={focused ? 'yyyy-mm-dd' : null}\n        onFocus={this.onFocus}\n        onBlur={this.onBlur}\n        onChange={this.onChange}\n      />\n    );\n  }\n}\n","import React from 'react';\n\nfunction format(num) {\n  return num != null ? num.toString() : '';\n}\n\nfunction unformat(str) {\n  const val = parseInt(str, 10);\n  return Number.isNaN(val) ? null : val;\n}\n\nexport default class NumInput extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { value: format(props.value) };\n    this.onBlur = this.onBlur.bind(this);\n    this.onChange = this.onChange.bind(this);\n  }\n\n  onChange(e) {\n    if (e.target.value.match(/^\\d*$/)) {\n      this.setState({ value: e.target.value });\n    }\n  }\n\n  onBlur(e) {\n    const { onChange } = this.props;\n    const { value } = this.state;\n    onChange(e, unformat(value));\n  }\n\n  render() {\n    const { value } = this.state;\n    return (\n      <input\n        type=\"text\"\n        {...this.props}\n        value={value}\n        onBlur={this.onBlur}\n        onChange={this.onChange}\n      />\n    );\n  }\n}\n","import React from 'react';\n\nfunction format(text) {\n  return text != null ? text : '';\n}\n\nfunction unformat(text) {\n  return text.trim().length === 0 ? null : text;\n}\n\nexport default class TextInput extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { value: format(props.value) };\n    this.onBlur = this.onBlur.bind(this);\n    this.onChange = this.onChange.bind(this);\n  }\n\n  onChange(e) {\n    this.setState({ value: e.target.value });\n  }\n\n  onBlur(e) {\n    const { onChange } = this.props;\n    const { value } = this.state;\n    onChange(e, unformat(value));\n  }\n\n  render() {\n    const { value } = this.state;\n    const { tag = 'input', ...props } = this.props;\n    return React.createElement(tag, {\n      ...props,\n      value,\n      onBlur: this.onBlur,\n      onChange: this.onChange,\n    });\n  }\n}\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport {\n  Col, Panel, Form, FormGroup, FormControl, ControlLabel,\n  ButtonToolbar, Button, Alert,\n} from 'react-bootstrap';\nimport { LinkContainer } from 'react-router-bootstrap';\nimport DateInput from './DateInput.jsx';\nimport NumInput from './NumInput.jsx';\nimport TextInput from './TextInput.jsx';\nimport graphQLFetch from './graphQLFetch.js';\nimport withToast from './withToast.jsx';\nimport store from './store.js';\nimport UserContext from './UserContext.js';\n\nclass IssueEdit extends React.Component {\n  static async fetchData(match, search, showError) {\n    const query = `query issue($id: Int!) {\n      issue(id: $id) {\n        id title status owner\n        effort created due description\n      }\n    }`;\n\n    const { params: { id } } = match;\n    const result = await graphQLFetch(query, { id: parseInt(id, 10) }, showError);\n    return result;\n  }\n\n  constructor() {\n    super();\n    const issue = store.initialData ? store.initialData.issue : null;\n    delete store.initialData;\n    this.state = {\n      issue,\n      invalidFields: {},\n      showingValidation: false,\n    };\n    this.onChange = this.onChange.bind(this);\n    this.onValidityChange = this.onValidityChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  componentDidMount() {\n    const { issue } = this.state;\n    if (issue == null) this.loadData();\n  }\n\n  componentDidUpdate(prevProps) {\n    const { match: { params: { id: prevId } } } = prevProps;\n    const { match: { params: { id } } } = this.props;\n    if (id !== prevId) {\n      this.loadData();\n    }\n  }\n\n  onValidityChange(event, valid) {\n    const { name } = event.target;\n    this.setState((prevState) => {\n      const invalidFields = { ...prevState.invalidFields, [name]: !valid };\n      if (valid) delete invalidFields[name];\n      return { invalidFields };\n    });\n  }\n\n  onChange(event, naturalValue) {\n    const { name, value: textValue } = event.target;\n    const value = naturalValue === undefined ? textValue : naturalValue;\n    this.setState(prevState => ({\n      issue: { ...prevState.issue, [name]: value },\n    }));\n  }\n\n  async handleSubmit(e) {\n    e.preventDefault();\n    this.showingValidation();\n    const { showSuccess, showError } = this.props;\n    const { issue, invalidFields } = this.state;\n    if (Object.keys(invalidFields).length !== 0) return;\n\n    const query = `mutation issueUpdate(\n      $id: Int!\n      $changes: IssueUpdateInputs!\n    ) {\n      issueUpdate(\n        id: $id\n        changes: $changes\n      ) {\n        id title status owner\n        effort created due description\n      }\n    }`;\n\n    const { id, created, ...changes } = issue;\n    const data = await graphQLFetch(query, { changes, id }, showError);\n\n    if (data) {\n      this.setState({ issue: data.issueUpdate });\n      showSuccess('Updated issue successfully');\n    }\n  }\n\n  async loadData() {\n    const { match, showError } = this.props;\n    const data = await IssueEdit.fetchData(match, null, showError);\n    this.setState({ issue: data ? data.issue : {}, invalidFields: {} });\n  }\n\n  showValidation() {\n    this.setState({ showingValidation: true });\n  }\n\n  dismissValidation() {\n    this.setState({ showingValidation: false });\n  }\n\n  render() {\n    const user = this.context;\n    const { issue } = this.state;\n    if (issue == null) return null;\n    const { issue: { id } } = this.state;\n    const { match: { params: { id: propsId } } } = this.props;\n    if (id == null) {\n      if (propsId != null) {\n        return <h3>{`Issue with ID ${propsId} not found.`}</h3>;\n      }\n      return null;\n    }\n\n    const { invalidFields, showingValidation } = this.state;\n    let validationMessage;\n    if (Object.keys(invalidFields).length !== 0 && showingValidation) {\n      validationMessage = (\n        <Alert bsStyle=\"danger\" onDismiss={this.dismissValidation}>\n          Please correct invalid fields before submitting.\n        </Alert>\n      );\n    }\n\n    const { issue: { title, status } } = this.state;\n    const { issue: { owner, effort, description } } = this.state;\n    const { issue: { created, due } } = this.state;\n\n    return (\n      <Panel>\n        <Panel.Heading>\n          <Panel.Title>{`Editing issue: ${id}`}</Panel.Title>\n        </Panel.Heading>\n        <Panel.Body>\n          <Form horizontal onSubmit={this.handleSubmit}>\n            <FormGroup>\n              <Col componentClass={ControlLabel} sm={3}>Created</Col>\n              <Col sm={9}>\n                <FormControl.Static>\n                  {created.toDateString()}\n                </FormControl.Static>\n              </Col>\n            </FormGroup>\n            <FormGroup>\n              <Col componentClass={ControlLabel} sm={3}>Status</Col>\n              <Col sm={9}>\n                <FormControl\n                  componentClass=\"select\"\n                  name=\"status\"\n                  value={status}\n                  onChange={this.onChange}\n                >\n                  <option value=\"New\">New</option>\n                  <option value=\"Assigned\">Assigned</option>\n                  <option value=\"Fixed\">Fixed</option>\n                  <option value=\"Closed\">Closed</option>\n                </FormControl>\n              </Col>\n            </FormGroup>\n            <FormGroup>\n              <Col componentClass={ControlLabel} sm={3}>Owner</Col>\n              <Col sm={9}>\n                <FormControl\n                  componentClass={TextInput}\n                  name=\"owner\"\n                  value={owner}\n                  onChange={this.onChange}\n                  key={id}\n                />\n              </Col>\n            </FormGroup>\n            <FormGroup>\n              <Col componentClass={ControlLabel} sm={3}>Effort</Col>\n              <Col sm={9}>\n                <FormControl\n                  componentClass={NumInput}\n                  name=\"effort\"\n                  value={effort}\n                  onChange={this.onChange}\n                  key={id}\n                />\n              </Col>\n            </FormGroup>\n            <FormGroup validationState={\n              invalidFields.due ? 'error' : null\n            }\n            >\n              <Col componentClass={ControlLabel} sm={3}>Due</Col>\n              <Col sm={9}>\n                <FormControl\n                  componentClass={DateInput}\n                  onValidityChange={this.onValidityChange}\n                  name=\"due\"\n                  value={due}\n                  onChange={this.onChange}\n                  key={id}\n                />\n                <FormControl.Feedback />\n              </Col>\n            </FormGroup>\n            <FormGroup>\n              <Col componentClass={ControlLabel} sm={3}>Title</Col>\n              <Col sm={9}>\n                <FormControl\n                  componentClass={TextInput}\n                  size={50}\n                  name=\"title\"\n                  value={title}\n                  onChange={this.onChange}\n                  key={id}\n                />\n              </Col>\n            </FormGroup>\n            <FormGroup>\n              <Col componentClass={ControlLabel} sm={3}>Description</Col>\n              <Col sm={9}>\n                <FormControl\n                  componentClass={TextInput}\n                  tag=\"textarea\"\n                  rows={4}\n                  cols={50}\n                  name=\"description\"\n                  value={description}\n                  onChange={this.onChange}\n                  key={id}\n                />\n              </Col>\n            </FormGroup>\n            <FormGroup>\n              <Col smOffset={3} sm={6}>\n                <ButtonToolbar>\n                  <Button bsStyle=\"primary\" disabled={!user.signedIn} type=\"submit\">Submit</Button>\n                  <LinkContainer to=\"/issues\">\n                    <Button bsStyle=\"link\">Back</Button>\n                  </LinkContainer>\n                </ButtonToolbar>\n              </Col>\n            </FormGroup>\n            <FormGroup>\n              <Col smOffset={3} sm={9}>{validationMessage}</Col>\n            </FormGroup>\n          </Form>\n        </Panel.Body>\n        <Panel.Footer>\n          <Link to={`/edit/${id - 1}`}>Prev</Link>\n          {' | '}\n          <Link to={`/edit/${id + 1}`}>Next</Link>\n        </Panel.Footer>\n      </Panel>\n    );\n  }\n}\n\nIssueEdit.contextType = UserContext;\nconst IssueEditWithToast = withToast(IssueEdit);\nIssueEditWithToast.fetchData = IssueEdit.fetchData;\n\nexport default IssueEditWithToast;\n","import React from 'react';\nimport store from './store.js';\nimport graphQLFetch from './graphQLFetch.js';\n\nexport default class About extends React.Component {\n  static async fetchData() {\n    const data = await graphQLFetch('query {about}');\n    return data;\n  }\n\n  constructor(props) {\n    super(props);\n    const apiAbout = store.initialData ? store.initialData.about : null;\n    delete store.initialData;\n    this.state = { apiAbout };\n  }\n\n  async componentDidMount() {\n    const { apiAbout } = this.state;\n\n    if (apiAbout == null) {\n      const data = await About.fetchData();\n      this.setState({ apiAbout: data.about });\n    }\n  }\n\n  render() {\n    const { apiAbout } = this.state;\n    return (\n      <div className=\"text-center\">\n        <h3>Issue Tracker version 0.9</h3>\n        <h4>\n          {apiAbout}\n        </h4>\n      </div>\n    );\n  }\n}\n","import IssueList from './IssueList.jsx';\nimport IssueReport from './IssueReport.jsx';\nimport IssueEdit from './IssueEdit.jsx';\nimport About from './About.jsx';\nimport NotFound from './NotFound.jsx';\n\nconst routes = [\n  { path: '/issues/:id?', component: IssueList },\n  { path: '/edit/:id', component: IssueEdit },\n  { path: '/report', component: IssueReport },\n  { path: '/about', component: About },\n  { path: '*', component: NotFound },\n]; export default routes;\n","import React from 'react';\n\nfunction NotFound() {\n  return <h1>Page Not Found</h1>;\n}\n\nexport default NotFound;\n","import React from 'react';\nimport { Switch, Route, Redirect } from 'react-router-dom';\nimport routes from './routes.js';\n\nexport default function Contents() {\n  return (\n    <Switch>\n      <Redirect exact from=\"/\" to=\"/issues\" />\n      {routes.map(attrs => <Route {...attrs} key={attrs.path} />)}\n    </Switch>\n  );\n}\n","import React from 'react';\nimport { withRouter } from 'react-router-dom';\nimport {\n  NavItem, Glyphicon, Modal, Form, FormGroup, FormControl,\n  ControlLabel, Button, ButtonToolbar, Tooltip, OverlayTrigger,\n} from 'react-bootstrap';\nimport graphQLFetch from './graphQLFetch.js';\nimport withToast from './withToast.jsx';\n\nclass IssueAddNavItem extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      showing: false,\n    };\n\n    this.showModal = this.showModal.bind(this);\n    this.hideModal = this.hideModal.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  showModal() {\n    this.setState({ showing: true });\n  }\n\n  hideModal() {\n    this.setState({ showing: false });\n  }\n\n  async handleSubmit(e) {\n    e.preventDefault();\n    this.hideModal();\n    const { showError } = this.props;\n    const form = document.forms.issueAdd;\n    const issue = {\n      owner: form.owner.value,\n      title: form.title.value,\n      due: new Date(new Date().getTime() + 1000 * 60 * 60 * 24 * 10),\n    };\n\n    const query = `mutation issueAdd($issue: IssueInputs!) {\n      issueAdd(issue: $issue) {\n        id\n      }\n    }`;\n\n    const data = await graphQLFetch(query, { issue }, showError);\n\n    if (data) {\n      const { history } = this.props;\n      history.push(`/edit/${data.issueAdd.id}`);\n    }\n  }\n\n  render() {\n    const { showing } = this.state;\n    const { user: { signedIn } } = this.props;\n    return (\n      <React.Fragment>\n        <NavItem disabled={!signedIn} onClick={this.showModal}>\n          <OverlayTrigger\n            placement=\"left\"\n            delayShow={1000}\n            overlay={<Tooltip id=\"create-issue\">Create Issue</Tooltip>}\n          >\n            <Glyphicon glyph=\"plus\" />\n          </OverlayTrigger>\n        </NavItem>\n        <Modal keyboard show={showing} onHide={this.hideModal}>\n          <Modal.Header closeButton>\n            <Modal.Title>Create Issue</Modal.Title>\n          </Modal.Header>\n          <Modal.Body>\n            <Form name=\"issueAdd\">\n              <FormGroup>\n                <ControlLabel>Title</ControlLabel>\n                <FormControl name=\"title\" autoFocus />\n              </FormGroup>\n              <FormGroup>\n                <ControlLabel>Owner</ControlLabel>\n                <FormControl name=\"owner\" />\n              </FormGroup>\n            </Form>\n          </Modal.Body>\n          <Modal.Footer>\n            <ButtonToolbar>\n              <Button\n                type=\"button\"\n                bsStyle=\"primary\"\n                onClick={this.handleSubmit}\n              >\n                Submit\n              </Button>\n              <Button bsStyle=\"link\" onClick={this.hideModal}>Cancel</Button>\n            </ButtonToolbar>\n          </Modal.Footer>\n        </Modal>\n      </React.Fragment>\n    );\n  }\n}\n\nexport default withToast(withRouter(IssueAddNavItem));\n","import React from 'react';\nimport SelectAsync from 'react-select/lib/Async'; // eslint-disable-line\nimport { withRouter } from 'react-router-dom';\nimport graphQLFetch from './graphQLFetch.js';\nimport withToast from './withToast.jsx';\n\nclass Search extends React.Component {\n  constructor(props) {\n    super(props);\n    this.onChangeSelection = this.onChangeSelection.bind(this);\n    this.loadOptions = this.loadOptions.bind(this);\n  }\n\n  onChangeSelection({ value }) {\n    const { history } = this.props;\n    history.push(`/edit/${value}`);\n  }\n\n  async loadOptions(term) {\n    if (term.length < 3) return [];\n    const query = `query issueList($search: String) {\n      issueList(search: $search) {\n        issues {id title}\n      }\n    }`;\n\n    const { showError } = this.props;\n    const data = await graphQLFetch(query, { search: term }, showError);\n    return data.issueList.issues.map(issue => ({\n      label: `#${issue.id}: ${issue.title}`, value: issue.id,\n    }));\n  }\n\n  render() {\n    return (\n      <SelectAsync\n        instanceId=\"search-select\"\n        value=\"\"\n        loadOptions={this.loadOptions}\n        filterOption={() => true}\n        onChange={this.onChangeSelection}\n        components={{ DropdownIndicator: null }}\n      />\n    );\n  }\n}\n\nexport default withRouter(withToast(Search));\n","import React from 'react';\nimport {\n  NavItem, Modal, Button, NavDropdown, MenuItem,\n} from 'react-bootstrap';\nimport withToast from './withToast.jsx';\n\nclass SigninNavItem extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      showing: false,\n      disabled: true,\n    };\n    this.showModal = this.showModal.bind(this);\n    this.hideModal = this.hideModal.bind(this);\n    this.signOut = this.signOut.bind(this);\n    this.signIn = this.signIn.bind(this);\n  }\n\n  componentDidMount() {\n    const clientId = window.ENV.GOOGLE_CLIENT_ID;\n    if (!clientId) return;\n    window.gapi.load('auth2', () => {\n      if (!window.gapi.auth2.getAuthInstance()) {\n        window.gapi.auth2.init({ client_id: clientId }).then(() => {\n          this.setState({ disabled: false });\n        });\n      }\n    });\n  }\n\n  async signIn() {\n    this.hideModal();\n    const { showError } = this.props;\n    let googleToken;\n    try {\n      const auth2 = window.gapi.auth2.getAuthInstance();\n      const googleUser = await auth2.signIn();\n      googleToken = googleUser.getAuthResponse().id_token;\n    } catch (error) {\n      showError(`Error authenticating with Google: ${error.error}`);\n    }\n\n    try {\n      const apiEndpoint = window.ENV.UI_AUTH_ENDPOINT;\n      const response = await fetch(`${apiEndpoint}/signin`, {\n        method: 'POST',\n        credentials: 'include',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ google_token: googleToken }),\n      });\n      const body = await response.text();\n      const result = JSON.parse(body);\n      const { signedIn, givenName } = result;\n\n      const { onUserChange } = this.props;\n      onUserChange({ signedIn, givenName });\n    } catch (error) {\n      showError(`Error signing into the app: ${error}`);\n    }\n  }\n\n  async signOut() {\n    const apiEndpoint = window.ENV.UI_AUTH_ENDPOINT;\n    const { showError } = this.props;\n    try {\n      await fetch(`${apiEndpoint}/signout`, {\n        method: 'POST',\n        credentials: 'include',\n      });\n      const auth2 = window.gapi.auth2.getAuthInstance();\n      await auth2.signOut();\n      const { onUserChange } = this.props;\n      onUserChange({ signedIn: false, givenName: ' ' });\n    } catch (error) {\n      showError(`Error signing out: ${error}`);\n    }\n  }\n\n  showModal() {\n    const clientId = window.ENV.GOOGLE_CLIENT_ID;\n    const { showError } = this.props;\n    if (!clientId) {\n      showError('Missing environment variable GOOGLE_CLIENT_ID');\n      return;\n    }\n    this.setState({ showing: true });\n  }\n\n  hideModal() {\n    this.setState({ showing: false });\n  }\n\n  render() {\n    const { user } = this.props;\n    if (user.signedIn) {\n      return (\n        <NavDropdown title={user.givenName} id=\"user\">\n          <MenuItem onClick={this.signOut}>Sign out</MenuItem>\n        </NavDropdown>\n      );\n    }\n\n    const { showing, disabled } = this.state;\n\n    return (\n      <>\n        <NavItem onClick={this.showModal}>\n          Sign in\n        </NavItem>\n        <Modal keyboard show={showing} onHide={this.hideModal} bsSize=\"sm\">\n          <Modal.Header closeButton>\n            <Modal.Title>Sign in</Modal.Title>\n          </Modal.Header>\n          <Modal.Body>\n            <Button\n              block\n              disabled={disabled}\n              bsStyle=\"primary\"\n              onClick={this.signIn}\n            >\n              <img src=\"img/googleSignIn.png\" alt=\"Sign in\" />\n            </Button>\n          </Modal.Body>\n          <Modal.Footer>\n            <Button bsStyle=\"link\" onClick={this.hideModal}>Cancel</Button>\n          </Modal.Footer>\n        </Modal>\n      </>\n    );\n  }\n}\n\nexport default withToast(SigninNavItem);\n","import React from 'react';\nimport {\n  Navbar, Nav, NavItem, NavDropdown, Grid, Col,\n  MenuItem, Glyphicon,\n} from 'react-bootstrap';\nimport { LinkContainer } from 'react-router-bootstrap';\nimport Contents from './Contents.jsx';\nimport IssueAddNavItem from './IssueAddNavItem.jsx';\nimport Search from './Search.jsx';\nimport SignInNavItem from './SignInNavItem.jsx';\nimport UserContext from './UserContext.js';\nimport store from './store.js';\nimport graphQLFetch from './graphQLFetch.js';\n\nfunction NavBar({ user, onUserChange }) {\n  return (\n    <Navbar>\n      <Navbar.Header>\n        <Navbar.Brand>Issue Tracker</Navbar.Brand>\n      </Navbar.Header>\n      <Nav>\n        <LinkContainer exact to=\"/\">\n          <NavItem>Home</NavItem>\n        </LinkContainer>\n        <LinkContainer to=\"/issues\">\n          <NavItem>Issue List</NavItem>\n        </LinkContainer>\n        <LinkContainer to=\"/report\">\n          <NavItem>Report</NavItem>\n        </LinkContainer>\n      </Nav>\n      <Col sm={5}>\n        <Navbar.Form>\n          <Search />\n        </Navbar.Form>\n      </Col>\n      <Nav pullRight>\n        <IssueAddNavItem user={user} />\n        <SignInNavItem user={user} onUserChange={onUserChange} />\n        <NavDropdown\n          id=\"user-dropdown\"\n          title={<Glyphicon glyph=\"option-vertical\" />}\n          noCaret\n        >\n          <LinkContainer to=\"/about\">\n            <MenuItem>About</MenuItem>\n          </LinkContainer>\n        </NavDropdown>\n      </Nav>\n    </Navbar>\n  );\n}\n\nfunction Footer() {\n  return (\n    <small>\n      <hr />\n      <p className=\"text-center\">\n        Full source code available at this\n        {' '}\n        <a href=\"https://github.com/vasansr/pro-mern-stack-2\">\n          GitHub repository\n        </a>\n      </p>\n    </small>\n  );\n}\n\nexport default class Page extends React.Component {\n  static async fetchData(cookie) {\n    const query = `query { user {\n      signedIn givenName\n    }}`;\n    const data = await graphQLFetch(query, null, null, cookie);\n    return data;\n  }\n\n  constructor(props) {\n    super(props);\n    const user = store.userData ? store.userData.user : null;\n    delete store.userData;\n    this.state = { user };\n\n    this.onUserChange = this.onUserChange.bind(this);\n  }\n\n  async componentDidMount() {\n    const { user } = this.state;\n    if (user == null) {\n      const data = await Page.fetchData();\n      this.setState({ user: data.user });\n    }\n  }\n\n  onUserChange(user) {\n    this.setState({ user });\n  }\n\n  render() {\n    const { user } = this.state;\n    if (user == null) return null;\n    return (\n      <div>\n        <NavBar user={user} onUserChange={this.onUserChange} />\n        <Grid fluid>\n          <UserContext.Provider value={user}>\n            <Contents />\n          </UserContext.Provider>\n        </Grid>\n        <Footer />\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport ReactDOMServer from 'react-dom/server';\nimport { matchPath, StaticRouter } from 'react-router-dom';\nimport template from './template.js';\nimport Page from '../src/Page.jsx';\nimport store from '../src/store.js';\nimport routes from '../src/routes.js';\n\nasync function render(req, res) {\n  const activeRoute = routes.find(\n    route => matchPath(req.path, route),\n  );\n\n  let initialData;\n\n  if (activeRoute && activeRoute.component.fetchData) {\n    const match = matchPath(req.path, activeRoute);\n    const index = req.url.indexOf('?');\n    const search = index !== 1 ? req.url.substr(index) : null;\n    initialData = await activeRoute.component.fetchData(match, search, req.headers.cookie);\n  }\n\n  const userData = await Page.fetchData(req.headers.cookie);\n\n  store.initialData = initialData;\n  store.userData = userData;\n  const context = {};\n  const element = (\n    <StaticRouter location={req.url} context={context}>\n      <Page />\n    </StaticRouter>\n  );\n  const body = ReactDOMServer.renderToString(element);\n  if (context.url) {\n    res.redirect(301, context.url);\n  } else {\n    res.send(template(body, initialData, userData));\n  }\n  res.send(template(body, initialData, userData));\n}\n\nexport default render;\n","import dotenv from 'dotenv';\nimport express from 'express';\nimport proxy from 'http-proxy-middleware';\nimport SourceMapSupport from 'source-map-support';\nimport render from './render.jsx';\n\nconst app = express();\nSourceMapSupport.install();\ndotenv.config();\n\nconst port = process.env.UI_SERVER_PORT || 8000;\n\n\nconst apiProxyTarget = process.env.API_PROXY_TARGET;\nif (!process.env.UI_API_ENDPOINT) {\n  process.env.UI_API_ENDPOINT = 'http://localhost:3000/graphql';\n}\n\nif (!process.env.UI_SERVER_API_ENDPOINT) {\n  process.env.UI_SERVER_API_ENDPOINT = process.env.UI_API_ENDPOINT;\n}\n\nif (apiProxyTarget) {\n  app.use('/graphql', proxy({ target: apiProxyTarget, changeOrigin: true }));\n  app.use('/auth', proxy({ target: apiProxyTarget, changeOrigin: true }));\n}\n\nif (!process.env.UI_AUTH_ENDPOINT) {\n  process.env.UI_AUTH_ENDPOINT = 'http://localhost:3000/auth';\n}\n\nconst enableHMR = (process.env.ENABLE_HMR || 'true') === 'true';\nif (enableHMR && (process.env.NODE_ENV !== 'production')) {\n  console.log('Adding dev middleware, enabling HMR');\n  /* eslint \"global-require\": \"off\" */\n  /* eslint \"import/no-extraneous-dependencies\": \"off\" */\n  const webpack = require('webpack');\n  const devMiddleware = require('webpack-dev-middleware');\n  const hotMiddleware = require('webpack-hot-middleware');\n  const config = require('../webpack.config.js')[0];\n  config.entry.app.push('webpack-hot-middleware/client');\n  config.plugins = config.plugins || [];\n  config.plugins.push(new webpack.HotModuleReplacementPlugin());\n  const compiler = webpack(config);\n  app.use(devMiddleware(compiler));\n  app.use(hotMiddleware(compiler));\n}\n\napp.use(express.static('public'));\napp.get('/env.js', (req, res) => {\n  const env = {\n    UI_API_ENDPOINT: process.env.UI_API_ENDPOINT,\n    UI_AUTH_ENDPOINT: process.env.UI_AUTH_ENDPOINT,\n    GOOGLE_CLIENT_ID: process.env.GOOGLE_CLIENT_ID,\n  };\n  res.send(`window.ENV = ${JSON.stringify(env)}`);\n});\napp.get('*', (req, res, next) => {\n  render(req, res, next);\n});\n\napp.listen(port, () => {\n  console.log(`UI started on port ${port}`);\n});\nif (module.hot) {\n  module.hot.accept('./render.jsx');\n}\n"],"sourceRoot":""}